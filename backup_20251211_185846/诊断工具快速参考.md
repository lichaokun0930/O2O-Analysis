# 诊断工具快速参考

## 🎯 最简单的方式

### 双击运行（推荐）⭐
```
📁 O2O-Analysis/
   📄 运行诊断工具.bat  ← 双击这个文件
```

会显示菜单：
```
1. 启动自检（完整报告）
2. 今日必做性能诊断
3. Redis缓存诊断
4. 数据库连接诊断
5. 退出
```

---

## 📝 命令行方式

### 启动自检
```powershell
# 简易版（推荐，快速）
python 简易启动自检.py

# 完整版（详细信息）
python 启动自检.py
```

### 今日必做性能诊断
```powershell
python 诊断今日必做性能.py
```

### Redis缓存诊断
```powershell
python 通用模块诊断工具.py --example redis
```

### 数据库诊断
```powershell
python 通用模块诊断工具.py --example database
```

---

## 🔍 什么时候用哪个工具？

| 问题 | 使用工具 |
|------|----------|
| 看板启动失败 | 启动自检 |
| 今日必做Tab很慢（>10秒） | 今日必做性能诊断 |
| 怀疑Redis缓存未生效 | Redis缓存诊断 |
| 数据库连接问题 | 数据库诊断 |
| 不确定什么问题 | 启动自检（全面检查） |

---

## ✅ 看懂诊断结果

### ✅ 正常
```
✅ Redis缓存管理器: 已启用
✅ 数据库连接: 正常
✅ 所有检查通过
```
→ 一切正常，无需操作

### ⚠️ 警告（非关键）
```
⚠️ Redis缓存: 未启用
💡 修复建议: Get-Service Memurai | Start-Service
```
→ 功能受限，建议修复但不影响启动

### ❌ 错误（关键）
```
❌ 数据库连接: 失败
💡 修复建议: .\启动数据库.ps1
```
→ 必须修复才能正常使用

---

## 🛠️ 常见问题快速修复

### Redis缓存未启用
```powershell
Get-Service Memurai | Start-Service
```

### 数据库连接失败
```powershell
.\启动数据库.ps1
```

### 缺少必需包
```powershell
pip install -r requirements.txt
```

### 索引数量不足
```powershell
python database/create_indexes.py
```

---

## 📚 详细文档

- `诊断工具使用指南.md` - 完整使用说明
- `Python模块全局变量最佳实践.md` - 避免初始化问题
- `V8.9_Redis缓存修复报告.md` - Redis问题案例

---

**提示**: 遇到问题时，先运行对应的诊断工具，根据提示修复！
