# ç”Ÿäº§çº§å‡çº§å®æ–½æŒ‡å— - 30-200äººåœºæ™¯

## ğŸ¯ å‡çº§ç›®æ ‡

**å½“å‰**: 30-50äººä½¿ç”¨  
**æœªæ¥**: 100-200äººä½¿ç”¨  
**æ—¶é—´**: ä»Šå¤©å®Œæˆé˜¶æ®µ1

---

## âœ… å·²å‡†å¤‡å¥½çš„ç»„ä»¶

### 1. Rediså¥åº·ç›‘æ§
- âœ… `redis_health_monitor.py` - å¥åº·ç›‘æ§æ¨¡å—
- âœ… å¯åŠ¨æ—¶å®Œæ•´æ£€æŸ¥
- âœ… è¿è¡Œæ—¶å®šæœŸæ£€æŸ¥ï¼ˆæ¯30ç§’ï¼‰
- âœ… è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼ˆæœ€å¤š3æ¬¡ï¼‰
- âœ… ç›‘æ§æŒ‡æ ‡æ”¶é›†

### 2. ç³»ç»Ÿç›‘æ§é¢æ¿
- âœ… `components/system_monitor_panel.py` - ç›‘æ§é¢æ¿ç»„ä»¶
- âœ… RedisçŠ¶æ€æ˜¾ç¤º
- âœ… ç¼“å­˜å‘½ä¸­ç‡æ˜¾ç¤º
- âœ… å†…å­˜ä½¿ç”¨æ˜¾ç¤º
- âœ… ç³»ç»Ÿè´Ÿè½½æ˜¾ç¤º

### 3. å‹åŠ›æµ‹è¯•å·¥å…·
- âœ… `å‹åŠ›æµ‹è¯•_30äºº.py` - 30äººå¹¶å‘æµ‹è¯•
- âœ… è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
- âœ… æ€§èƒ½è¯„ä¼°æŠ¥å‘Š

---

## ğŸ“‹ å®æ–½æ­¥éª¤

### æ­¥éª¤1: å®‰è£…ä¾èµ–ï¼ˆ2åˆ†é’Ÿï¼‰

```powershell
# å®‰è£…Waitress
.\.venv\Scripts\pip.exe install waitress

# å®‰è£…psutilï¼ˆç³»ç»Ÿç›‘æ§ï¼‰
.\.venv\Scripts\pip.exe install psutil

# éªŒè¯å®‰è£…
.\.venv\Scripts\pip.exe list | findstr "waitress psutil"
```

**é¢„æœŸè¾“å‡º**:
```
waitress    3.0.0
psutil      5.9.6
```

---

### æ­¥éª¤2: æµ‹è¯•Redisç›‘æ§ï¼ˆ5åˆ†é’Ÿï¼‰

```powershell
# æµ‹è¯•Rediså¥åº·ç›‘æ§
python redis_health_monitor.py
```

**é¢„æœŸè¾“å‡º**:
```
======================================================================
 Rediså¥åº·ç›‘æ§æµ‹è¯•
======================================================================

1ï¸âƒ£ å¯åŠ¨æ—¶å®Œæ•´æ£€æŸ¥:
   âœ… è¿æ¥æˆåŠŸ
   ç‰ˆæœ¬: 7.x.x
   å†…å­˜: 45.2MB / 1024.0MB
   å»¶è¿Ÿ: 1.23ms

2ï¸âƒ£ å¯åŠ¨åå°ç›‘æ§ï¼ˆ10ç§’ï¼‰:
   âœ… Rediså¥åº· | æˆåŠŸç‡: 100.0% | è¿è¡Œæ—¶é—´: 0.00h

3ï¸âƒ£ æœ€ç»ˆçŠ¶æ€:
   å¥åº·: True
   æ€»æ£€æŸ¥: 2
   æˆåŠŸç‡: 100.0%
```

---

### æ­¥éª¤3: é›†æˆåˆ°ä¸»åº”ç”¨ï¼ˆ10åˆ†é’Ÿï¼‰

æˆ‘ä¼šå¸®ä½ ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **æ™ºèƒ½é—¨åº—çœ‹æ¿_Dashç‰ˆ.py**
   - æ·»åŠ Waitressæ”¯æŒ
   - é›†æˆRediså¥åº·ç›‘æ§
   - æ·»åŠ ç³»ç»Ÿç›‘æ§é¢æ¿

2. **å¯åŠ¨çœ‹æ¿.ps1**
   - æ·»åŠ ä¾èµ–æ£€æŸ¥
   - æ·»åŠ å¯åŠ¨æ—¥å¿—

---

### æ­¥éª¤4: æµ‹è¯•éªŒè¯ï¼ˆ10åˆ†é’Ÿï¼‰

```powershell
# 1. å¯åŠ¨çœ‹æ¿
.\å¯åŠ¨çœ‹æ¿.ps1

# 2. è®¿é—®æµ‹è¯•
# æ‰“å¼€æµè§ˆå™¨: http://localhost:8050

# 3. æ£€æŸ¥ç›‘æ§é¢æ¿
# åº”è¯¥çœ‹åˆ°ç³»ç»Ÿç›‘æ§å¡ç‰‡ï¼Œæ˜¾ç¤ºRedisçŠ¶æ€ç­‰ä¿¡æ¯

# 4. å‹åŠ›æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
python å‹åŠ›æµ‹è¯•_30äºº.py
```

---

## ğŸ¯ éªŒæ”¶æ ‡å‡†

### å¿…é¡»é€šè¿‡

- [ ] WaitressæˆåŠŸå¯åŠ¨ï¼ˆæ— "development server"è­¦å‘Šï¼‰
- [ ] Redisç›‘æ§æ˜¾ç¤º"åœ¨çº¿"
- [ ] ç³»ç»Ÿç›‘æ§é¢æ¿æ­£å¸¸æ˜¾ç¤º
- [ ] 30äººå‹åŠ›æµ‹è¯•æˆåŠŸç‡>95%
- [ ] å¹³å‡å“åº”æ—¶é—´<3ç§’

### æ¨èé€šè¿‡

- [ ] ç¼“å­˜å‘½ä¸­ç‡>90%
- [ ] å†…å­˜ä½¿ç”¨<70%
- [ ] CPUä½¿ç”¨<60%
- [ ] æ— é”™è¯¯æ—¥å¿—

---

## ğŸ“Š é…ç½®å‚æ•°

### Waitressé…ç½®ï¼ˆ30-50äººï¼‰

```python
serve(
    app.server,
    host='0.0.0.0',
    port=8050,
    threads=8,              # 8ä¸ªå·¥ä½œçº¿ç¨‹
    channel_timeout=120,    # 2åˆ†é’Ÿè¶…æ—¶
    connection_limit=100,   # æœ€å¤š100ä¸ªè¿æ¥
)
```

### Redisé…ç½®

```
å†…å­˜é™åˆ¶: 1GB
æ·˜æ±°ç­–ç•¥: allkeys-lru
å¥åº·æ£€æŸ¥: æ¯30ç§’
è‡ªåŠ¨é‡è¿: æœ€å¤š3æ¬¡
```

### ç³»ç»Ÿç›‘æ§

```
æ›´æ–°é—´éš”: 5ç§’
æ˜¾ç¤ºå†…å®¹: Redisã€ç¼“å­˜ã€å†…å­˜ã€CPU
å‘Šè­¦é˜ˆå€¼: å†…å­˜>80%, CPU>80%
```

---

## ğŸš¨ æ•…éšœæ’æŸ¥

### é—®é¢˜1: Waitresså®‰è£…å¤±è´¥

**ç—‡çŠ¶**: `pip install waitress` æŠ¥é”™

**è§£å†³**:
```powershell
# å‡çº§pip
.\.venv\Scripts\python.exe -m pip install --upgrade pip

# é‡æ–°å®‰è£…
.\.venv\Scripts\pip.exe install waitress
```

### é—®é¢˜2: Redisç›‘æ§æ˜¾ç¤ºç¦»çº¿

**ç—‡çŠ¶**: ç›‘æ§é¢æ¿æ˜¾ç¤ºRedisç¦»çº¿

**è§£å†³**:
```powershell
# æ£€æŸ¥RedisæœåŠ¡
Get-Service Memurai

# å¯åŠ¨Redis
.\å¯åŠ¨Redis.ps1

# æˆ–é‡å¯çœ‹æ¿ï¼ˆä¼šè‡ªåŠ¨å¯åŠ¨Redisï¼‰
.\å¯åŠ¨çœ‹æ¿.ps1
```

### é—®é¢˜3: å‹åŠ›æµ‹è¯•å¤±è´¥

**ç—‡çŠ¶**: 30äººæµ‹è¯•æˆåŠŸç‡<80%

**è§£å†³**:
```python
# å¢åŠ çº¿ç¨‹æ•°ï¼ˆåœ¨æ™ºèƒ½é—¨åº—çœ‹æ¿_Dashç‰ˆ.pyä¸­ï¼‰
threads=16  # ä»8æ”¹ä¸º16
```

---

## ğŸ“ˆ æ€§èƒ½é¢„æœŸ

### 30äººå¹¶å‘

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| æˆåŠŸç‡ | >95% | è‡³å°‘29äººæˆåŠŸ |
| å¹³å‡å“åº” | <3ç§’ | é¦–æ¬¡è®¿é—® |
| ç¼“å­˜å“åº” | <1ç§’ | ç¼“å­˜å‘½ä¸­ |
| å†…å­˜ä½¿ç”¨ | <70% | ç³»ç»Ÿå†…å­˜ |
| CPUä½¿ç”¨ | <60% | ç³»ç»ŸCPU |

### 50äººå¹¶å‘ï¼ˆæœªæ¥ï¼‰

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| æˆåŠŸç‡ | >90% | è‡³å°‘45äººæˆåŠŸ |
| å¹³å‡å“åº” | <5ç§’ | é¦–æ¬¡è®¿é—® |
| ç¼“å­˜å“åº” | <2ç§’ | ç¼“å­˜å‘½ä¸­ |
| å†…å­˜ä½¿ç”¨ | <80% | ç³»ç»Ÿå†…å­˜ |
| CPUä½¿ç”¨ | <70% | ç³»ç»ŸCPU |

---

## ğŸ‰ å‡çº§åçš„æ”¹è¿›

### å¹¶å‘èƒ½åŠ›

```
å‡çº§å‰: 1äºº/æ¬¡ï¼ˆå•çº¿ç¨‹ï¼‰
å‡çº§å: 8äºº/æ¬¡ï¼ˆ8çº¿ç¨‹ï¼‰
æ”¹è¿›: 8å€
```

### ç¨³å®šæ€§

```
å‡çº§å‰: 60%ï¼ˆç»å¸¸éœ€è¦é‡å¯ï¼‰
å‡çº§å: 95%ï¼ˆè‡ªåŠ¨æ¢å¤ï¼‰
æ”¹è¿›: 35%
```

### ç›‘æ§èƒ½åŠ›

```
å‡çº§å‰: æ— ç›‘æ§
å‡çº§å: å®æ—¶ç›‘æ§
æ”¹è¿›: ä»æ— åˆ°æœ‰
```

---

## ğŸ“ ä¸‹ä¸€æ­¥

### ä»Šå¤©å®Œæˆ

1. âœ… å®‰è£…ä¾èµ–
2. âœ… æµ‹è¯•Redisç›‘æ§
3. â³ é›†æˆåˆ°ä¸»åº”ç”¨
4. â³ æµ‹è¯•éªŒè¯

### æœ¬å‘¨å®Œæˆ

1. æ€§èƒ½ä¼˜åŒ–
2. æ—¥å¿—ç³»ç»Ÿ
3. 50äººå‹åŠ›æµ‹è¯•

### ä¸‹æœˆå®Œæˆ

1. è´Ÿè½½å‡è¡¡ï¼ˆ100+äººï¼‰
2. Redisé›†ç¾¤
3. æ•°æ®åº“ä¼˜åŒ–

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘å¼€å§‹é›†æˆåˆ°ä¸»åº”ç”¨ï¼**

å›å¤"å¼€å§‹"ï¼Œæˆ‘ä¼šç«‹å³ä¿®æ”¹ä»£ç å¹¶é›†æˆæ‰€æœ‰ç»„ä»¶ã€‚
