import{r as x,j as e}from"./framework-DfnVWwpF.js";import{ch as f,ci as g,by as j,bz as b,bK as N}from"./vendor-DUbYPDw3.js";import"./utils-CB2_sajW.js";const y=({data:i})=>{const[s,c]=x.useState(1),n=5,h=()=>{console.log("Exporting data...")},r=x.useMemo(()=>{const t=(s-1)*n;return i.slice(t,t+n)},[i,s]),l=Math.ceil(i.length/n),o=t=>{t>=1&&t<=l&&c(t)},m=({channel:t})=>{const a=t.marketingRate>.2;return e.jsxs("div",{className:"glass-panel p-4 mb-3 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-indigo-500 rounded-full"}),e.jsx("h4",{className:"font-bold text-white",children:t.name})]}),e.jsxs("span",{className:"text-neon-green font-mono font-bold",children:["¥",t.profit.toLocaleString()]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-slate-400 items-center",children:[e.jsx("span",{children:"营收贡献"}),e.jsxs("span",{className:"text-slate-200 font-mono",children:["¥",t.revenue.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-slate-400 items-center",children:[e.jsx("span",{children:"营销占比"}),e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsx(N,{size:12,className:"text-neon-rose"}),e.jsxs("span",{className:`${a?"text-neon-rose":"text-slate-200"} font-mono`,children:[(t.marketingRate*100).toFixed(1),"%"]})]})]}),e.jsx("div",{className:"w-full h-1 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${a?"bg-neon-rose":"bg-indigo-500"}`,style:{width:`${Math.min(t.marketingRate*100*2,100)}%`}})})]})]})};return e.jsxs("div",{className:"glass-panel rounded-2xl overflow-hidden flex flex-col h-full",children:[e.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-white/[0.02]",children:[e.jsx("div",{children:e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:["渠道效益矩阵",e.jsx("span",{className:"text-[10px] bg-slate-800 text-slate-400 px-2 py-0.5 rounded border border-white/5",children:"LIVE"})]})}),e.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 hover:bg-white/10 text-slate-300 hover:text-white border border-white/5 rounded-lg text-xs font-medium transition-all",children:[e.jsx(f,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:"导出数据"})]})]}),e.jsx("div",{className:"md:hidden p-4",children:r.map(t=>e.jsx(m,{channel:t},t.id))}),e.jsx("div",{className:"hidden md:block overflow-x-auto flex-1",children:e.jsxs("table",{className:"min-w-full divide-y divide-white/5",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-950/30",children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider font-mono",children:"渠道名称"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-400 uppercase tracking-wider font-mono",children:"GMV 营收"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider font-mono pl-10",children:"营销效率 (Marketing %)"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-400 uppercase tracking-wider font-mono",children:"履约成本"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-slate-400 uppercase tracking-wider font-mono",children:"净利润"}),e.jsx("th",{className:"px-4 py-4"})]})}),e.jsx("tbody",{className:"divide-y divide-white/5 bg-slate-900/10",children:r.map(t=>{const a=t.marketingRate>.2,d=t.marketingRate*100,p=Math.min(d*3,100);return e.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-xs font-bold bg-slate-800 border border-white/5 text-slate-300",children:t.name.charAt(0)}),e.jsx("span",{className:"text-sm font-medium text-slate-200",children:t.name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-mono text-slate-300",children:["¥",t.revenue.toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap pl-10",children:e.jsxs("div",{className:"flex flex-col gap-1.5 w-32",children:[e.jsx("div",{className:"flex justify-between items-center text-xs",children:e.jsxs("span",{className:`font-mono ${a?"text-neon-rose font-bold":"text-slate-400"}`,children:[d.toFixed(1),"%"]})}),e.jsx("div",{className:"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{style:{width:`${p}%`},className:`h-full rounded-full transition-all duration-500 ${a?"bg-neon-rose shadow-[0_0_8px_rgba(244,63,94,0.5)]":"bg-indigo-500"}`})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-sm font-mono text-slate-300",children:["¥",t.costs.delivery.toLocaleString()]}),e.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:["单均 ¥",t.avgDeliveryCost.toFixed(1)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-bold font-mono text-neon-green",children:["¥",t.profit.toLocaleString()]})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("button",{className:"text-slate-600 hover:text-white transition-colors",children:e.jsx(g,{size:16})})})]},t.id)})})]})}),l>1&&e.jsxs("div",{className:"p-3 border-t border-white/5 bg-slate-900/20 flex items-center justify-end gap-3",children:[e.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["Page ",s," of ",l]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>o(s-1),disabled:s===1,className:"p-1 rounded hover:bg-white/5 disabled:opacity-30 text-slate-300 disabled:cursor-not-allowed",children:e.jsx(j,{size:16})}),e.jsx("button",{onClick:()=>o(s+1),disabled:s===l,className:"p-1 rounded hover:bg-white/5 disabled:opacity-30 text-slate-300 disabled:cursor-not-allowed",children:e.jsx(b,{size:16})})]})]})]})};export{y as default};
