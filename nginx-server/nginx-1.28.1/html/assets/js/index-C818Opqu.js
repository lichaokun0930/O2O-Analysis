const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/DataManagement-BR6ARE7P.js","assets/js/react-core-TYaY7wwJ.js","assets/js/icons-22UXCqKE.js","assets/js/utils-DNh_Lx5Z.js","assets/js/echarts-BWHOTeAv.js","assets/js/StoreComparisonView-CstxEvfd.js","assets/js/ProfitChart-n3p7Z4wX.js","assets/js/CostEfficiencyChart-CJM8bcau.js","assets/js/CategoryAnalysisChart-7Uq-X5Nj.js","assets/js/MarketingCostChart-BtUFwr9g.js","assets/js/DeliveryHeatmap-D93wUt9u.js","assets/js/MarketingTrendChart-Ba0rdVoX.js","assets/js/ProfitSimulator-CAuN2L_f.js","assets/js/DataTable-CHfN9u_Z.js","assets/js/CategoryTrendChart-BYPCiqKG.js","assets/js/TopProductsChart-C3v63bTd.js","assets/js/CategoryHealthTable-Dvv9c4rW.js","assets/js/DistanceAnalysisChart-Cymkj-6M.js","assets/js/Skeleton-CrcO3amV.js"])))=>i.map(i=>d[i]);
import{r as u,a as Le,R as b,u as Kn,L as Zn,b as Xn,c as Ce,B as Jn}from"./react-core-TYaY7wwJ.js";import{a as qt,b as tt,i as Qn,c as We,d as Te,e as es,f as Ie,g as ve,h as ts,j as ns,k as ss,l as rs,m as Kt,n as Zt,o as os,p as as,q as is,r as ls,s as cs,t as ds,u as Xt,v as us,w as fs,x as Jt,y as Qt,z as en,A as hs,B as ms,C as ps,D as gs,E as xs,F as bs,G as ys,H as vs,I as ws,J as ks,K as Ds,L as Ns,M as Ms,N as Fe,O as kt}from"./utils-DNh_Lx5Z.js";import{S as tn,C as ct,a as Ss,b as Ye,c as Dt,d as js,e as ht,Z as nn,L as Cs,D as Os,P as _s,T as sn,f as Es,M as Ws,g as Ts,U as Is,h as Ps,A as zs,B as Rs,i as As,j as $s,k as Fs,l as rn,F as Bs,m as dt,n as Ls,o as on,p as Ys,q as Vs,r as Hs,s as Us,t as Gs,u as qs,v as Nt,W as Ks,w as Mt,x as Zs,y as St,z as an}from"./icons-22UXCqKE.js";import{i as jt,r as Ct,L as Pe}from"./echarts-BWHOTeAv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();var ln={exports:{}},Ve={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=u,Js=Symbol.for("react.element"),Qs=Symbol.for("react.fragment"),er=Object.prototype.hasOwnProperty,tr=Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nr={key:!0,ref:!0,__self:!0,__source:!0};function cn(e,t,s){var n,r={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)er.call(t,n)&&!nr.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:Js,type:e,key:i,ref:l,props:r,_owner:tr.current}}Ve.Fragment=Qs;Ve.jsx=cn;Ve.jsxs=cn;ln.exports=Ve;var o=ln.exports,ut={},Ot=Le;ut.createRoot=Ot.createRoot,ut.hydrateRoot=Ot.hydrateRoot;const mt="/api/v1";console.log("API Base URL:",mt);const sr=qt.create({baseURL:mt,timeout:12e4,headers:{"Content-Type":"application/json"}});sr.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.message,e.config?.url),Promise.reject(e)));const Z=qt.create({baseURL:mt,timeout:12e4,headers:{"Content-Type":"application/json"}});Z.interceptors.response.use(e=>e.data,e=>(console.error("API Error:",e.message,e.config?.url),Promise.reject(e)));const _t={getStats(){return Z.get("/data/stats")},getStores(){return Z.get("/data/stores")},loadFromDatabase(e){return Z.post("/data/database/load",null,{params:e})},uploadOrders(e,t){const s=new FormData;s.append("file",e);const n=new URLSearchParams;return t?.mode&&n.append("mode",t.mode),fetch(`/api/v1/data/upload/orders?${n.toString()}`,{method:"POST",body:s}).then(async r=>{const i=await r.json();if(!r.ok)throw new Error(i.detail||"ä¸Šä¼ å¤±è´¥");return i})},getStoreStats(e){return Z.get(`/data/store/${encodeURIComponent(e)}/stats`)},deleteStoreData(e){return Z.delete(`/data/store/${encodeURIComponent(e)}`)},clearCache(e){return Z.post("/data/clear-cache",{level:e})},optimizeDatabase(){return Z.post("/data/database/optimize")}},Me={getOverview(e){return Z.get("/orders/overview",{params:e})},getComparison(e){return Z.get("/orders/comparison",{params:e})},getChannelStats(e){return Z.get("/orders/channels",{params:e})},getCostStructure(e){return Z.get("/orders/cost-structure",{params:e})},getTrend(e){return Z.get("/orders/trend",{params:e})},getStores(){return Z.get("/orders/stores")},getChannels(e){return Z.get("/orders/channel-list",{params:e})},getPriceDistribution(e){return Z.get("/orders/price-distribution",{params:e})},getProfitDistribution(e){return Z.get("/orders/profit-distribution",{params:e})},getChannelComparison(e){return Z.get("/orders/channel-comparison",{params:e})},getAnomalyDetection(e){return Z.get("/orders/anomaly-detection",{params:e})},getDateRange(e){return Z.get("/orders/date-range",{params:e})},getCategoryHourlyTrend(e){return Z.get("/orders/category-hourly-trend",{params:e})},getTopProductsByDate(e){return Z.get("/orders/top-products-by-date",{params:e})},getHourlyProfit(e){return Z.get("/orders/hourly-profit",{params:e})},getDistanceAnalysis(e){return Z.get("/orders/distance-analysis",{params:e})},getDeliveryRadar(e){return Z.get("/orders/delivery-radar",{params:e})},getMarketingStructure(e){return Z.get("/orders/marketing-structure",{params:e})},getMarketingTrend(e){return Z.get("/orders/marketing-trend",{params:e})}},dn=u.createContext(null),rr=(e,t)=>{const s=t||new Date,n=r=>r.toISOString().split("T")[0];switch(e){case"today":return{start:n(s),end:n(s)};case"yesterday":{const r=new Date(s);return r.setDate(s.getDate()-1),{start:n(r),end:n(r)}}case"7days":{const r=new Date(s);return r.setDate(s.getDate()-6),{start:n(r),end:n(s)}}case"30days":{const r=new Date(s);return r.setDate(s.getDate()-29),{start:n(r),end:n(s)}}case"thisWeek":{const r=new Date(s);return r.setDate(s.getDate()-s.getDay()),{start:n(r),end:n(s)}}case"thisMonth":{const r=new Date(s.getFullYear(),s.getMonth(),1);return{start:n(r),end:n(s)}}case"all":return{start:"",end:""};default:return{start:n(s),end:n(s)}}},or=({children:e})=>{const[t,s]=u.useState([]),[n,r]=u.useState(""),[i,l]=u.useState(!1),[a,c]=u.useState("all"),[d,m]=u.useState([]),[f,h]=u.useState(!1),[g,N]=u.useState({type:"all",start:"",end:""}),[k,p]=u.useState(null),[y,O]=u.useState(!1),[S,j]=u.useState(null),[x,w]=u.useState(!1),[E,_]=u.useState(null),[F,R]=u.useState(null),[ee,se]=u.useState(!1),[A,q]=u.useState({database:"checking",redis:"checking",lastCheck:null}),te=u.useCallback(D=>{if(D==="all")N({type:"all",start:"",end:""});else{const L=k?.max_date?new Date(k.max_date):new Date,{start:J,end:re}=rr(D,L);N({type:D,start:J,end:re}),console.log(`ðŸ“… æ—¥æœŸèŒƒå›´è®¡ç®—: ${D}, å‚è€ƒæ—¥æœŸ: ${L.toISOString().split("T")[0]}, ç»“æžœ: ${J} ~ ${re}`)}},[k]),v=u.useCallback(async()=>{if(!n){p(null);return}O(!0);try{const D={store_name:n},L=await Me.getDateRange(D);L.success&&(p(L.data),console.log("ðŸ“… é—¨åº—æ•°æ®æ—¥æœŸèŒƒå›´:",L.data))}catch(D){console.error("èŽ·å–é—¨åº—æ—¥æœŸèŒƒå›´å¤±è´¥:",D),p(null)}finally{O(!1)}},[n]),W=u.useCallback(async()=>{if(!n){m([]);return}h(!0);try{const D=await Me.getChannels({store_name:n});D.success&&D.data&&(m(D.data),a!=="all"&&!D.data.includes(a)&&c("all"),console.log("ðŸ“¡ æ¸ é“åˆ—è¡¨å·²æ›´æ–°:",D.data.length,"ä¸ªæ¸ é“"))}catch(D){console.error("èŽ·å–æ¸ é“åˆ—è¡¨å¤±è´¥:",D),m([])}finally{h(!1)}},[n,a]),H=u.useCallback(D=>{r(D)},[]),I=u.useCallback(async()=>{l(!0);try{const D=await _t.getStores();D.success&&s(D.data)}catch(D){console.error("èŽ·å–é—¨åº—åˆ—è¡¨å¤±è´¥:",D),s([])}finally{l(!1)}},[]),B=u.useCallback(async()=>{w(!0);try{const D=await _t.getStats();j(D),q({database:D.database_status==="å·²è¿žæŽ¥"?"connected":"disconnected",redis:D.redis_status==="å·²è¿žæŽ¥"?"connected":"disconnected",lastCheck:new Date})}catch(D){console.error("èŽ·å–ç»Ÿè®¡æ•°æ®å¤±è´¥:",D),q({database:"disconnected",redis:"disconnected",lastCheck:new Date})}finally{w(!1)}},[]),M=u.useCallback(async(D=3,L=2e3)=>{let J=null;for(let re=0;re<D;re++)try{await B();return}catch(ye){J=ye,console.log(`é‡è¯• ${re+1}/${D} å¤±è´¥ï¼Œ${L}ms åŽå†æ¬¡å°è¯•...`),re<D-1&&await new Promise(ne=>setTimeout(ne,L))}console.error("æ‰€æœ‰é‡è¯•å‡å¤±è´¥:",J)},[B]),K=u.useCallback(async()=>{if(!n){_(null),R(null),se(!1),console.log("ðŸ“Š æœªé€‰æ‹©é—¨åº—ï¼Œä¸åŠ è½½æ•°æ®");return}se(!0);try{const D={store_name:n};g.type!=="all"&&g.start&&g.end&&(D.start_date=g.start,D.end_date=g.end),console.log("ðŸ“Š è¯·æ±‚è®¢å•æ¦‚è§ˆ, å‚æ•°:",D,"æ—¥æœŸç±»åž‹:",g.type);const[L,J]=await Promise.all([Me.getOverview(D),Me.getComparison(D)]);if(L.success?_(L.data):(console.error("âŒ è®¢å•æ¦‚è§ˆèŽ·å–å¤±è´¥:",L),_(null)),J.success&&J.data){const re=J.data.previous;re&&(re.order_count>0||re.total_sales>0||re.total_profit!==0)?(R(J.data),console.log("ðŸ“Š çŽ¯æ¯”æ•°æ®æœ‰æ•ˆ:",J.data.period)):(R(null),console.log("ðŸ“Š ä¸Šä¸€å‘¨æœŸæ— æ•°æ®ï¼Œä¸æ˜¾ç¤ºçŽ¯æ¯”"))}else R(null)}catch(D){console.error("âŒ èŽ·å–è®¢å•æ¦‚è§ˆå¤±è´¥:",D),_(null),R(null)}finally{se(!1)}},[n,g.type,g.start,g.end]),$=u.useCallback(async()=>{await Promise.all([I(),B(),v(),W()]),await K()},[I,B,v,W,K]);u.useEffect(()=>{I(),M(5,2e3)},[]),u.useEffect(()=>{const D=setInterval(()=>{B()},3e4);return()=>clearInterval(D)},[]),u.useEffect(()=>{v(),W()},[n]),u.useEffect(()=>{K()},[n,g.type,g.start,g.end]);const G={stores:t,selectedStore:n,setSelectedStore:H,storesLoading:i,selectedChannel:a,setSelectedChannel:c,channelList:d,channelListLoading:f,dateRange:g,setDateRange:N,setQuickDateRange:te,storeDateRange:k,storeDateRangeLoading:y,stats:S,statsLoading:x,orderOverview:E,orderComparison:F,orderOverviewLoading:ee,systemStatus:A,refreshStores:I,refreshStats:B,refreshOrderOverview:K,refreshStoreDateRange:v,refreshChannelList:W,refreshAll:$};return o.jsx(dn.Provider,{value:G,children:e})},He=()=>{const e=u.useContext(dn);if(!e)throw new Error("useGlobalContext must be used within GlobalProvider");return e},ar="modulepreload",ir=function(e){return"/"+e},Et={},oe=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),a=l?.nonce||l?.getAttribute("nonce");r=Promise.allSettled(s.map(c=>{if(c=ir(c),c in Et)return;Et[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":ar,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=l,window.dispatchEvent(a),!a.defaultPrevented)throw l}return r.then(l=>{for(const a of l||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function lr(e,t,s="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:s}).format(t).split(/\s/g).slice(2).join(" ")}const nt={},Re={};function Se(e,t){try{const n=(nt[e]||(nt[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return n in Re?Re[n]:Wt(n,n.split(":"))}catch{if(e in Re)return Re[e];const s=e?.match(cr);return s?Wt(e,s.slice(1)):NaN}}const cr=/([+-]\d\d):?(\d\d)?/;function Wt(e,t){const s=+(t[0]||0),n=+(t[1]||0),r=+(t[2]||0)/60;return Re[e]=s*60+n>0?s*60+n+r:s*60-n-r}class xe extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Se(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),un(this),ft(this)):this.setTime(Date.now())}static tz(t,...s){return s.length?new xe(...s,t):new xe(Date.now(),t)}withTimeZone(t){return new xe(+this,t)}getTimezoneOffset(){const t=-Se(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),ft(this),+this}[Symbol.for("constructDateFrom")](t){return new xe(+new Date(t),this.timeZone)}}const Tt=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Tt.test(e))return;const t=e.replace(Tt,"$1UTC");xe.prototype[t]&&(e.startsWith("get")?xe.prototype[e]=function(){return this.internal[t]()}:(xe.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),dr(this),+this},xe.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),ft(this),+this}))});function ft(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Se(e.timeZone,e)*60))}function dr(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),un(e)}function un(e){const t=Se(e.timeZone,e),s=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),l=r-i,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const c=r-s;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const d=new Date(+e);d.setUTCSeconds(0);const m=r>0?d.getSeconds():(d.getSeconds()-60)%60,f=Math.round(-(Se(e.timeZone,e)*60))%60;(f||m)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+m));const h=Se(e.timeZone,e),g=h>0?Math.floor(h):Math.ceil(h),k=-new Date(+e).getTimezoneOffset()-g,p=g!==s,y=k-c;if(p&&y){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+y);const O=Se(e.timeZone,e),S=O>0?Math.floor(O):Math.ceil(O),j=g-S;j&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+j),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j))}}class ae extends xe{static tz(t,...s){return s.length?new ae(...s,t):new ae(Date.now(),t)}toISOString(){const[t,s,n]=this.tzComponents(),r=`${t}${s}:${n}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,s,n,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${s} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[s,n,r]=this.tzComponents();return`${t} GMT${s}${n}${r} (${lr(this.timeZone,this)})`}toLocaleString(t,s){return Date.prototype.toLocaleString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleDateString(t,s){return Date.prototype.toLocaleDateString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}toLocaleTimeString(t,s){return Date.prototype.toLocaleTimeString.call(this,t,{...s,timeZone:s?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),s=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[s,n,r]}withTimeZone(t){return new ae(+this,t)}[Symbol.for("constructDateFrom")](t){return new ae(+new Date(t),this.timeZone)}}const It=5,ur=4;function fr(e,t){const s=t.startOfMonth(e),n=s.getDay()>0?s.getDay():7,r=t.addDays(e,-n+1),i=t.addDays(r,It*7-1);return t.getMonth(e)===t.getMonth(i)?It:ur}function fn(e,t){const s=t.startOfMonth(e),n=s.getDay();return n===1?s:n===0?t.addDays(s,-1*6):t.addDays(s,-1*(n-1))}function hr(e,t){const s=fn(e,t),n=fr(e,t);return t.addDays(s,n*7-1)}const mr={lessThanXSeconds:{one:"ä¸åˆ° 1 ç§’",other:"ä¸åˆ° {{count}} ç§’"},xSeconds:{one:"1 ç§’",other:"{{count}} ç§’"},halfAMinute:"åŠåˆ†é’Ÿ",lessThanXMinutes:{one:"ä¸åˆ° 1 åˆ†é’Ÿ",other:"ä¸åˆ° {{count}} åˆ†é’Ÿ"},xMinutes:{one:"1 åˆ†é’Ÿ",other:"{{count}} åˆ†é’Ÿ"},xHours:{one:"1 å°æ—¶",other:"{{count}} å°æ—¶"},aboutXHours:{one:"å¤§çº¦ 1 å°æ—¶",other:"å¤§çº¦ {{count}} å°æ—¶"},xDays:{one:"1 å¤©",other:"{{count}} å¤©"},aboutXWeeks:{one:"å¤§çº¦ 1 ä¸ªæ˜ŸæœŸ",other:"å¤§çº¦ {{count}} ä¸ªæ˜ŸæœŸ"},xWeeks:{one:"1 ä¸ªæ˜ŸæœŸ",other:"{{count}} ä¸ªæ˜ŸæœŸ"},aboutXMonths:{one:"å¤§çº¦ 1 ä¸ªæœˆ",other:"å¤§çº¦ {{count}} ä¸ªæœˆ"},xMonths:{one:"1 ä¸ªæœˆ",other:"{{count}} ä¸ªæœˆ"},aboutXYears:{one:"å¤§çº¦ 1 å¹´",other:"å¤§çº¦ {{count}} å¹´"},xYears:{one:"1 å¹´",other:"{{count}} å¹´"},overXYears:{one:"è¶…è¿‡ 1 å¹´",other:"è¶…è¿‡ {{count}} å¹´"},almostXYears:{one:"å°†è¿‘ 1 å¹´",other:"å°†è¿‘ {{count}} å¹´"}},pr=(e,t,s)=>{let n;const r=mr[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",String(t)),s?.addSuffix?s.comparison&&s.comparison>0?n+"å†…":n+"å‰":n},gr={full:"y'å¹´'M'æœˆ'd'æ—¥' EEEE",long:"y'å¹´'M'æœˆ'd'æ—¥'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},xr={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},br={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},yr={date:tt({formats:gr,defaultWidth:"full"}),time:tt({formats:xr,defaultWidth:"full"}),dateTime:tt({formats:br,defaultWidth:"full"})};function Pt(e,t,s){const n="eeee p";return Qn(e,t,s)?n:e.getTime()>t.getTime()?"'ä¸‹ä¸ª'"+n:"'ä¸Šä¸ª'"+n}const vr={lastWeek:Pt,yesterday:"'æ˜¨å¤©' p",today:"'ä»Šå¤©' p",tomorrow:"'æ˜Žå¤©' p",nextWeek:Pt,other:"PP p"},wr=(e,t,s,n)=>{const r=vr[e];return typeof r=="function"?r(t,s,n):r},kr={narrow:["å‰","å…¬å…ƒ"],abbreviated:["å‰","å…¬å…ƒ"],wide:["å…¬å…ƒå‰","å…¬å…ƒ"]},Dr={narrow:["1","2","3","4"],abbreviated:["ç¬¬ä¸€å­£","ç¬¬äºŒå­£","ç¬¬ä¸‰å­£","ç¬¬å››å­£"],wide:["ç¬¬ä¸€å­£åº¦","ç¬¬äºŒå­£åº¦","ç¬¬ä¸‰å­£åº¦","ç¬¬å››å­£åº¦"]},Nr={narrow:["ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","åä¸€","åäºŒ"],abbreviated:["1æœˆ","2æœˆ","3æœˆ","4æœˆ","5æœˆ","6æœˆ","7æœˆ","8æœˆ","9æœˆ","10æœˆ","11æœˆ","12æœˆ"],wide:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"]},Mr={narrow:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],short:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],abbreviated:["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],wide:["æ˜ŸæœŸæ—¥","æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­"]},Sr={narrow:{am:"ä¸Š",pm:"ä¸‹",midnight:"å‡Œæ™¨",noon:"åˆ",morning:"æ—©",afternoon:"ä¸‹åˆ",evening:"æ™š",night:"å¤œ"},abbreviated:{am:"ä¸Šåˆ",pm:"ä¸‹åˆ",midnight:"å‡Œæ™¨",noon:"ä¸­åˆ",morning:"æ—©æ™¨",afternoon:"ä¸­åˆ",evening:"æ™šä¸Š",night:"å¤œé—´"},wide:{am:"ä¸Šåˆ",pm:"ä¸‹åˆ",midnight:"å‡Œæ™¨",noon:"ä¸­åˆ",morning:"æ—©æ™¨",afternoon:"ä¸­åˆ",evening:"æ™šä¸Š",night:"å¤œé—´"}},jr={narrow:{am:"ä¸Š",pm:"ä¸‹",midnight:"å‡Œæ™¨",noon:"åˆ",morning:"æ—©",afternoon:"ä¸‹åˆ",evening:"æ™š",night:"å¤œ"},abbreviated:{am:"ä¸Šåˆ",pm:"ä¸‹åˆ",midnight:"å‡Œæ™¨",noon:"ä¸­åˆ",morning:"æ—©æ™¨",afternoon:"ä¸­åˆ",evening:"æ™šä¸Š",night:"å¤œé—´"},wide:{am:"ä¸Šåˆ",pm:"ä¸‹åˆ",midnight:"å‡Œæ™¨",noon:"ä¸­åˆ",morning:"æ—©æ™¨",afternoon:"ä¸­åˆ",evening:"æ™šä¸Š",night:"å¤œé—´"}},Cr=(e,t)=>{const s=Number(e);switch(t?.unit){case"date":return s.toString()+"æ—¥";case"hour":return s.toString()+"æ—¶";case"minute":return s.toString()+"åˆ†";case"second":return s.toString()+"ç§’";default:return"ç¬¬ "+s.toString()}},Or={ordinalNumber:Cr,era:We({values:kr,defaultWidth:"wide"}),quarter:We({values:Dr,defaultWidth:"wide",argumentCallback:e=>e-1}),month:We({values:Nr,defaultWidth:"wide"}),day:We({values:Mr,defaultWidth:"wide"}),dayPeriod:We({values:Sr,defaultWidth:"wide",formattingValues:jr,defaultFormattingWidth:"wide"})},_r=/^(ç¬¬\s*)?\d+(æ—¥|æ—¶|åˆ†|ç§’)?/i,Er=/\d+/i,Wr={narrow:/^(å‰)/i,abbreviated:/^(å‰)/i,wide:/^(å…¬å…ƒå‰|å…¬å…ƒ)/i},Tr={any:[/^(å‰)/i,/^(å…¬å…ƒ)/i]},Ir={narrow:/^[1234]/i,abbreviated:/^ç¬¬[ä¸€äºŒä¸‰å››]åˆ»/i,wide:/^ç¬¬[ä¸€äºŒä¸‰å››]åˆ»é’Ÿ/i},Pr={any:[/(1|ä¸€)/i,/(2|äºŒ)/i,/(3|ä¸‰)/i,/(4|å››)/i]},zr={narrow:/^(ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹|å[äºŒä¸€])/i,abbreviated:/^(ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹|å[äºŒä¸€]|\d|1[12])æœˆ/i,wide:/^(ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹|å[äºŒä¸€])æœˆ/i},Rr={narrow:[/^ä¸€/i,/^äºŒ/i,/^ä¸‰/i,/^å››/i,/^äº”/i,/^å…­/i,/^ä¸ƒ/i,/^å…«/i,/^ä¹/i,/^å(?!(ä¸€|äºŒ))/i,/^åä¸€/i,/^åäºŒ/i],any:[/^ä¸€|1/i,/^äºŒ|2/i,/^ä¸‰|3/i,/^å››|4/i,/^äº”|5/i,/^å…­|6/i,/^ä¸ƒ|7/i,/^å…«|8/i,/^ä¹|9/i,/^å(?!(ä¸€|äºŒ))|10/i,/^åä¸€|11/i,/^åäºŒ|12/i]},Ar={narrow:/^[ä¸€äºŒä¸‰å››äº”å…­æ—¥]/i,short:/^[ä¸€äºŒä¸‰å››äº”å…­æ—¥]/i,abbreviated:/^å‘¨[ä¸€äºŒä¸‰å››äº”å…­æ—¥]/i,wide:/^æ˜ŸæœŸ[ä¸€äºŒä¸‰å››äº”å…­æ—¥]/i},$r={any:[/æ—¥/i,/ä¸€/i,/äºŒ/i,/ä¸‰/i,/å››/i,/äº”/i,/å…­/i]},Fr={any:/^(ä¸Šåˆ?|ä¸‹åˆ?|åˆå¤œ|[ä¸­æ­£]åˆ|æ—©ä¸Š?|ä¸‹åˆ|æ™šä¸Š?|å‡Œæ™¨|)/i},Br={any:{am:/^ä¸Šåˆ?/i,pm:/^ä¸‹åˆ?/i,midnight:/^åˆå¤œ/i,noon:/^[ä¸­æ­£]åˆ/i,morning:/^æ—©ä¸Š/i,afternoon:/^ä¸‹åˆ/i,evening:/^æ™šä¸Š?/i,night:/^å‡Œæ™¨/i}},Lr={ordinalNumber:es({matchPattern:_r,parsePattern:Er,valueCallback:e=>parseInt(e,10)}),era:Te({matchPatterns:Wr,defaultMatchWidth:"wide",parsePatterns:Tr,defaultParseWidth:"any"}),quarter:Te({matchPatterns:Ir,defaultMatchWidth:"wide",parsePatterns:Pr,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Te({matchPatterns:zr,defaultMatchWidth:"wide",parsePatterns:Rr,defaultParseWidth:"any"}),day:Te({matchPatterns:Ar,defaultMatchWidth:"wide",parsePatterns:$r,defaultParseWidth:"any"}),dayPeriod:Te({matchPatterns:Fr,defaultMatchWidth:"any",parsePatterns:Br,defaultParseWidth:"any"})},Yr={code:"zh-CN",formatDistance:pr,formatLong:yr,formatRelative:wr,localize:Or,match:Lr,options:{weekStartsOn:1,firstWeekContainsDate:4}},hn={...Ie,labels:{labelDayButton:(e,t,s,n)=>{let r;n&&typeof n.format=="function"?r=n.format.bind(n):r=(l,a)=>ve(l,a,{locale:Ie,...s});let i=r(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,s)=>{let n;return s&&typeof s.format=="function"?n=s.format.bind(s):n=(r,i)=>ve(r,i,{locale:Ie,...t}),n(e,"LLLL yyyy")},labelGridcell:(e,t,s,n)=>{let r;n&&typeof n.format=="function"?r=n.format.bind(n):r=(l,a)=>ve(l,a,{locale:Ie,...s});let i=r(e,"PPPP");return t?.today&&(i=`Today, ${i}`),i},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,s)=>{let n;return s&&typeof s.format=="function"?n=s.format.bind(s):n=(r,i)=>ve(r,i,{locale:Ie,...t}),n(e,"cccc")}}};class ce{constructor(t,s){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ae.tz(this.options.timeZone):new this.Date,this.newDate=(n,r,i)=>this.overrides?.newDate?this.overrides.newDate(n,r,i):this.options.timeZone?new ae(n,r,i,this.options.timeZone):new Date(n,r,i),this.addDays=(n,r)=>this.overrides?.addDays?this.overrides.addDays(n,r):ts(n,r),this.addMonths=(n,r)=>this.overrides?.addMonths?this.overrides.addMonths(n,r):ns(n,r),this.addWeeks=(n,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,r):ss(n,r),this.addYears=(n,r)=>this.overrides?.addYears?this.overrides.addYears(n,r):rs(n,r),this.differenceInCalendarDays=(n,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,r):Kt(n,r),this.differenceInCalendarMonths=(n,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,r):Zt(n,r),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):os(n),this.eachYearOfInterval=n=>{const r=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):as(n),i=new Set(r.map(a=>this.getYear(a)));if(i.size===r.length)return r;const l=[];return i.forEach(a=>{l.push(new Date(a,0,1))}),l},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):hr(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):is(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):ls(n),this.endOfWeek=(n,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,r):cs(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):ds(n),this.format=(n,r,i)=>{const l=this.overrides?.format?this.overrides.format(n,r,this.options):ve(n,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):Xt(n),this.getMonth=(n,r)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):us(n,this.options),this.getYear=(n,r)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):fs(n,this.options),this.getWeek=(n,r)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):Jt(n,this.options),this.isAfter=(n,r)=>this.overrides?.isAfter?this.overrides.isAfter(n,r):Qt(n,r),this.isBefore=(n,r)=>this.overrides?.isBefore?this.overrides.isBefore(n,r):en(n,r),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):hs(n),this.isSameDay=(n,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,r):ms(n,r),this.isSameMonth=(n,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,r):ps(n,r),this.isSameYear=(n,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,r):gs(n,r),this.max=n=>this.overrides?.max?this.overrides.max(n):xs(n),this.min=n=>this.overrides?.min?this.overrides.min(n):bs(n),this.setMonth=(n,r)=>this.overrides?.setMonth?this.overrides.setMonth(n,r):ys(n,r),this.setYear=(n,r)=>this.overrides?.setYear?this.overrides.setYear(n,r):vs(n,r),this.startOfBroadcastWeek=(n,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):fn(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):ws(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):ks(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):Ds(n),this.startOfWeek=(n,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Ns(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):Ms(n),this.options={locale:hn,...t},this.overrides=s}getDigitMap(){const{numerals:t="latn"}=this.options,s=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let r=0;r<10;r++)n[r.toString()]=s.format(r);return n}replaceDigits(t){const s=this.getDigitMap();return t.replace(/\d/g,n=>s[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ce.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:s,timeZone:n,numerals:r}=this.options,i=s?.code;if(i&&ce.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:r}).format(t)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,l)}}ce.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const be=new ce;class mn{constructor(t,s,n=be){this.date=t,this.displayMonth=s,this.outside=!!(s&&!n.isSameMonth(t,s)),this.dateLib=n,this.isoDate=n.format(t,"yyyy-MM-dd"),this.displayMonthId=n.format(s,"yyyy-MM"),this.dateMonthId=n.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Vr{constructor(t,s){this.date=t,this.weeks=s}}class Hr{constructor(t,s){this.days=s,this.weekNumber=t}}function Ur(e){return b.createElement("button",{...e})}function Gr(e){return b.createElement("span",{...e})}function qr(e){const{size:t=24,orientation:s="left",className:n}=e;return b.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},s==="up"&&b.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),s==="down"&&b.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),s==="left"&&b.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),s==="right"&&b.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Kr(e){const{day:t,modifiers:s,...n}=e;return b.createElement("td",{...n})}function Zr(e){const{day:t,modifiers:s,...n}=e,r=b.useRef(null);return b.useEffect(()=>{s.focused&&r.current?.focus()},[s.focused]),b.createElement("button",{ref:r,...n})}var C;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(C||(C={}));var Q;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Q||(Q={}));var pe;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(pe||(pe={}));var le;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(le||(le={}));function Xr(e){const{options:t,className:s,components:n,classNames:r,...i}=e,l=[r[C.Dropdown],s].join(" "),a=t?.find(({value:c})=>c===i.value);return b.createElement("span",{"data-disabled":i.disabled,className:r[C.DropdownRoot]},b.createElement(n.Select,{className:l,...i},t?.map(({value:c,label:d,disabled:m})=>b.createElement(n.Option,{key:c,value:c,disabled:m},d))),b.createElement("span",{className:r[C.CaptionLabel],"aria-hidden":!0},a?.label,b.createElement(n.Chevron,{orientation:"down",size:18,className:r[C.Chevron]})))}function Jr(e){return b.createElement("div",{...e})}function Qr(e){return b.createElement("div",{...e})}function eo(e){const{calendarMonth:t,displayIndex:s,...n}=e;return b.createElement("div",{...n},e.children)}function to(e){const{calendarMonth:t,displayIndex:s,...n}=e;return b.createElement("div",{...n})}function no(e){return b.createElement("table",{...e})}function so(e){return b.createElement("div",{...e})}const pn=u.createContext(void 0);function Ae(){const e=u.useContext(pn);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function ro(e){const{components:t}=Ae();return b.createElement(t.Dropdown,{...e})}function oo(e){const{onPreviousClick:t,onNextClick:s,previousMonth:n,nextMonth:r,...i}=e,{components:l,classNames:a,labels:{labelPrevious:c,labelNext:d}}=Ae(),m=u.useCallback(h=>{r&&s?.(h)},[r,s]),f=u.useCallback(h=>{n&&t?.(h)},[n,t]);return b.createElement("nav",{...i},b.createElement(l.PreviousMonthButton,{type:"button",className:a[C.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":c(n),onClick:f},b.createElement(l.Chevron,{disabled:n?void 0:!0,className:a[C.Chevron],orientation:"left"})),b.createElement(l.NextMonthButton,{type:"button",className:a[C.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:m},b.createElement(l.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[C.Chevron]})))}function ao(e){const{components:t}=Ae();return b.createElement(t.Button,{...e})}function io(e){return b.createElement("option",{...e})}function lo(e){const{components:t}=Ae();return b.createElement(t.Button,{...e})}function co(e){const{rootRef:t,...s}=e;return b.createElement("div",{...s,ref:t})}function uo(e){return b.createElement("select",{...e})}function fo(e){const{week:t,...s}=e;return b.createElement("tr",{...s})}function ho(e){return b.createElement("th",{...e})}function mo(e){return b.createElement("thead",{"aria-hidden":!0},b.createElement("tr",{...e}))}function po(e){const{week:t,...s}=e;return b.createElement("th",{...s})}function go(e){return b.createElement("th",{...e})}function xo(e){return b.createElement("tbody",{...e})}function bo(e){const{components:t}=Ae();return b.createElement(t.Dropdown,{...e})}const yo=Object.freeze(Object.defineProperty({__proto__:null,Button:Ur,CaptionLabel:Gr,Chevron:qr,Day:Kr,DayButton:Zr,Dropdown:Xr,DropdownNav:Jr,Footer:Qr,Month:eo,MonthCaption:to,MonthGrid:no,Months:so,MonthsDropdown:ro,Nav:oo,NextMonthButton:ao,Option:io,PreviousMonthButton:lo,Root:co,Select:uo,Week:fo,WeekNumber:po,WeekNumberHeader:go,Weekday:ho,Weekdays:mo,Weeks:xo,YearsDropdown:bo},Symbol.toStringTag,{value:"Module"}));function we(e,t,s=!1,n=be){let{from:r,to:i}=e;const{differenceInCalendarDays:l,isSameDay:a}=n;return r&&i?(l(i,r)<0&&([r,i]=[i,r]),l(t,r)>=(s?1:0)&&l(i,t)>=(s?1:0)):!s&&i?a(i,t):!s&&r?a(r,t):!1}function pt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Ue(e){return!!(e&&typeof e=="object"&&"from"in e)}function gt(e){return!!(e&&typeof e=="object"&&"after"in e)}function xt(e){return!!(e&&typeof e=="object"&&"before"in e)}function gn(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function xn(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ke(e,t,s=be){const n=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:i,isAfter:l}=s;return n.some(a=>{if(typeof a=="boolean")return a;if(s.isDate(a))return r(e,a);if(xn(a,s))return a.some(c=>r(e,c));if(Ue(a))return we(a,e,!1,s);if(gn(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(pt(a)){const c=i(a.before,e),d=i(a.after,e),m=c>0,f=d<0;return l(a.before,a.after)?f&&m:m||f}return gt(a)?i(e,a.after)>0:xt(a)?i(a.before,e)>0:typeof a=="function"?a(e):!1})}function vo(e,t,s,n,r){const{disabled:i,hidden:l,modifiers:a,showOutsideDays:c,broadcastCalendar:d,today:m=r.today()}=t,{isSameDay:f,isSameMonth:h,startOfMonth:g,isBefore:N,endOfMonth:k,isAfter:p}=r,y=s&&g(s),O=n&&k(n),S={[Q.focused]:[],[Q.outside]:[],[Q.disabled]:[],[Q.hidden]:[],[Q.today]:[]},j={};for(const x of e){const{date:w,displayMonth:E}=x,_=!!(E&&!h(w,E)),F=!!(y&&N(w,y)),R=!!(O&&p(w,O)),ee=!!(i&&ke(w,i,r)),se=!!(l&&ke(w,l,r))||F||R||!d&&!c&&_||d&&c===!1&&_,A=f(w,m);_&&S.outside.push(x),ee&&S.disabled.push(x),se&&S.hidden.push(x),A&&S.today.push(x),a&&Object.keys(a).forEach(q=>{const te=a?.[q];te&&ke(w,te,r)&&(j[q]?j[q].push(x):j[q]=[x])})}return x=>{const w={[Q.focused]:!1,[Q.disabled]:!1,[Q.hidden]:!1,[Q.outside]:!1,[Q.today]:!1},E={};for(const _ in S){const F=S[_];w[_]=F.some(R=>R===x)}for(const _ in j)E[_]=j[_].some(F=>F===x);return{...w,...E}}}function wo(e,t,s={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[i])=>(s[i]?r.push(s[i]):t[Q[i]]?r.push(t[Q[i]]):t[pe[i]]&&r.push(t[pe[i]]),r),[t[C.Day]])}function ko(e){return{...yo,...e}}function Do(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([s,n])=>{s.startsWith("data-")&&(t[s]=n)}),t}function No(){const e={};for(const t in C)e[C[t]]=`rdp-${C[t]}`;for(const t in Q)e[Q[t]]=`rdp-${Q[t]}`;for(const t in pe)e[pe[t]]=`rdp-${pe[t]}`;for(const t in le)e[le[t]]=`rdp-${le[t]}`;return e}function bn(e,t,s){return(s??new ce(t)).formatMonthYear(e)}const Mo=bn;function So(e,t,s){return(s??new ce(t)).format(e,"d")}function jo(e,t=be){return t.format(e,"LLLL")}function Co(e,t,s){return(s??new ce(t)).format(e,"cccccc")}function Oo(e,t=be){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function _o(){return""}function yn(e,t=be){return t.format(e,"yyyy")}const Eo=yn,Wo=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:bn,formatDay:So,formatMonthCaption:Mo,formatMonthDropdown:jo,formatWeekNumber:Oo,formatWeekNumberHeader:_o,formatWeekdayName:Co,formatYearCaption:Eo,formatYearDropdown:yn},Symbol.toStringTag,{value:"Module"}));function To(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Wo,...e}}function bt(e,t,s,n){let r=(n??new ce(s)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const Io=bt;function yt(e,t,s){return(s??new ce(t)).formatMonthYear(e)}const Po=yt;function vn(e,t,s,n){let r=(n??new ce(s)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function wn(e){return"Choose the Month"}function kn(){return""}const zo="Go to the Next Month";function Dn(e,t){return zo}function Nn(e){return"Go to the Previous Month"}function Mn(e,t,s){return(s??new ce(t)).format(e,"cccc")}function Sn(e,t){return`Week ${e}`}function jn(e){return"Week Number"}function Cn(e){return"Choose the Year"}const Ro=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Po,labelDay:Io,labelDayButton:bt,labelGrid:yt,labelGridcell:vn,labelMonthDropdown:wn,labelNav:kn,labelNext:Dn,labelPrevious:Nn,labelWeekNumber:Sn,labelWeekNumberHeader:jn,labelWeekday:Mn,labelYearDropdown:Cn},Symbol.toStringTag,{value:"Module"})),me=(e,t,s)=>t||(s?typeof s=="function"?s:(...n)=>s:e);function Ao(e,t){const s=t.locale?.labels??{};return{...Ro,...e??{},labelDayButton:me(bt,e?.labelDayButton,s.labelDayButton),labelMonthDropdown:me(wn,e?.labelMonthDropdown,s.labelMonthDropdown),labelNext:me(Dn,e?.labelNext,s.labelNext),labelPrevious:me(Nn,e?.labelPrevious,s.labelPrevious),labelWeekNumber:me(Sn,e?.labelWeekNumber,s.labelWeekNumber),labelYearDropdown:me(Cn,e?.labelYearDropdown,s.labelYearDropdown),labelGrid:me(yt,e?.labelGrid,s.labelGrid),labelGridcell:me(vn,e?.labelGridcell,s.labelGridcell),labelNav:me(kn,e?.labelNav,s.labelNav),labelWeekNumberHeader:me(jn,e?.labelWeekNumberHeader,s.labelWeekNumberHeader),labelWeekday:me(Mn,e?.labelWeekday,s.labelWeekday)}}function $o(e,t,s,n,r){const{startOfMonth:i,startOfYear:l,endOfYear:a,eachMonthOfInterval:c,getMonth:d}=r;return c({start:l(e),end:a(e)}).map(h=>{const g=n.formatMonthDropdown(h,r),N=d(h),k=t&&h<i(t)||s&&h>i(s)||!1;return{value:N,label:g,disabled:k}})}function Fo(e,t={},s={}){let n={...t?.[C.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{n={...n,...s?.[r]}}),n}function Bo(e,t,s,n){const r=n??e.today(),i=s?e.startOfBroadcastWeek(r,e):t?e.startOfISOWeek(r):e.startOfWeek(r),l=[];for(let a=0;a<7;a++){const c=e.addDays(i,a);l.push(c)}return l}function Lo(e,t,s,n,r=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:l,eachYearOfInterval:a,getYear:c}=n,d=i(e),m=l(t),f=a({start:d,end:m});return r&&f.reverse(),f.map(h=>{const g=s.formatYearDropdown(h,n);return{value:c(h),label:g,disabled:!1}})}function Yo(e,t={}){const{weekStartsOn:s,locale:n}=t,r=s??n?.options?.weekStartsOn??0,i=a=>{const c=typeof a=="number"||typeof a=="string"?new Date(a):a;return new ae(c.getFullYear(),c.getMonth(),c.getDate(),12,0,0,e)},l=a=>{const c=i(a);return new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0)};return{today:()=>i(ae.tz(e)),newDate:(a,c,d)=>new ae(a,c,d,12,0,0,e),startOfDay:a=>i(a),startOfWeek:(a,c)=>{const d=i(a),m=c?.weekStartsOn??r,f=(d.getDay()-m+7)%7;return d.setDate(d.getDate()-f),d},startOfISOWeek:a=>{const c=i(a),d=(c.getDay()-1+7)%7;return c.setDate(c.getDate()-d),c},startOfMonth:a=>{const c=i(a);return c.setDate(1),c},startOfYear:a=>{const c=i(a);return c.setMonth(0,1),c},endOfWeek:(a,c)=>{const d=i(a),h=(((c?.weekStartsOn??r)+6)%7-d.getDay()+7)%7;return d.setDate(d.getDate()+h),d},endOfISOWeek:a=>{const c=i(a),d=(7-c.getDay())%7;return c.setDate(c.getDate()+d),c},endOfMonth:a=>{const c=i(a);return c.setMonth(c.getMonth()+1,0),c},endOfYear:a=>{const c=i(a);return c.setMonth(11,31),c},eachMonthOfInterval:a=>{const c=i(a.start),d=i(a.end),m=[],f=new ae(c.getFullYear(),c.getMonth(),1,12,0,0,e),h=d.getFullYear()*12+d.getMonth();for(;f.getFullYear()*12+f.getMonth()<=h;)m.push(new ae(f,e)),f.setMonth(f.getMonth()+1,1);return m},addDays:(a,c)=>{const d=i(a);return d.setDate(d.getDate()+c),d},addWeeks:(a,c)=>{const d=i(a);return d.setDate(d.getDate()+c*7),d},addMonths:(a,c)=>{const d=i(a);return d.setMonth(d.getMonth()+c),d},addYears:(a,c)=>{const d=i(a);return d.setFullYear(d.getFullYear()+c),d},eachYearOfInterval:a=>{const c=i(a.start),d=i(a.end),m=[],f=new ae(c.getFullYear(),0,1,12,0,0,e);for(;f.getFullYear()<=d.getFullYear();)m.push(new ae(f,e)),f.setFullYear(f.getFullYear()+1,0,1);return m},getWeek:(a,c)=>{const d=l(a);return Jt(d,{weekStartsOn:c?.weekStartsOn??r,firstWeekContainsDate:c?.firstWeekContainsDate??n?.options?.firstWeekContainsDate??1})},getISOWeek:a=>{const c=l(a);return Xt(c)},differenceInCalendarDays:(a,c)=>{const d=l(a),m=l(c);return Kt(d,m)},differenceInCalendarMonths:(a,c)=>{const d=l(a),m=l(c);return Zt(d,m)}}}const $e=e=>e instanceof HTMLElement?e:null,st=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Vo=e=>$e(e.querySelector("[data-animated-month]")),rt=e=>$e(e.querySelector("[data-animated-caption]")),ot=e=>$e(e.querySelector("[data-animated-weeks]")),Ho=e=>$e(e.querySelector("[data-animated-nav]")),Uo=e=>$e(e.querySelector("[data-animated-weekdays]"));function Go(e,t,{classNames:s,months:n,focused:r,dateLib:i}){const l=u.useRef(null),a=u.useRef(n),c=u.useRef(!1);u.useLayoutEffect(()=>{const d=a.current;if(a.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||d.length===0||n.length!==d.length)return;const m=i.isSameMonth(n[0].date,d[0].date),f=i.isAfter(n[0].date,d[0].date),h=f?s[le.caption_after_enter]:s[le.caption_before_enter],g=f?s[le.weeks_after_enter]:s[le.weeks_before_enter],N=l.current,k=e.current.cloneNode(!0);if(k instanceof HTMLElement?(st(k).forEach(S=>{if(!(S instanceof HTMLElement))return;const j=Vo(S);j&&S.contains(j)&&S.removeChild(j);const x=rt(S);x&&x.classList.remove(h);const w=ot(S);w&&w.classList.remove(g)}),l.current=k):l.current=null,c.current||m||r)return;const p=N instanceof HTMLElement?st(N):[],y=st(e.current);if(y?.every(O=>O instanceof HTMLElement)&&p&&p.every(O=>O instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const O=Ho(e.current);O&&(O.style.zIndex="1"),y.forEach((S,j)=>{const x=p[j];if(!x)return;S.style.position="relative",S.style.overflow="hidden";const w=rt(S);w&&w.classList.add(h);const E=ot(S);E&&E.classList.add(g);const _=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),O&&(O.style.zIndex=""),w&&w.classList.remove(h),E&&E.classList.remove(g),S.style.position="",S.style.overflow="",S.contains(x)&&S.removeChild(x)};x.style.pointerEvents="none",x.style.position="absolute",x.style.overflow="hidden",x.setAttribute("aria-hidden","true");const F=Uo(x);F&&(F.style.opacity="0");const R=rt(x);R&&(R.classList.add(f?s[le.caption_before_exit]:s[le.caption_after_exit]),R.addEventListener("animationend",_));const ee=ot(x);ee&&ee.classList.add(f?s[le.weeks_before_exit]:s[le.weeks_after_exit]),S.insertBefore(x,S.firstChild)})}})}function qo(e,t,s,n){const r=e[0],i=e[e.length-1],{ISOWeek:l,fixedWeeks:a,broadcastCalendar:c}=s??{},{addDays:d,differenceInCalendarDays:m,differenceInCalendarMonths:f,endOfBroadcastWeek:h,endOfISOWeek:g,endOfMonth:N,endOfWeek:k,isAfter:p,startOfBroadcastWeek:y,startOfISOWeek:O,startOfWeek:S}=n,j=c?y(r,n):l?O(r):S(r),x=c?h(i):l?g(N(i)):k(N(i)),w=t&&(c?h(t):l?g(t):k(t)),E=w&&p(x,w)?w:x,_=m(E,j),F=f(i,r)+1,R=[];for(let A=0;A<=_;A++){const q=d(j,A);R.push(q)}const se=(c?35:42)*F;if(a&&R.length<se){const A=se-R.length;for(let q=0;q<A;q++){const te=d(R[R.length-1],1);R.push(te)}}return R}function Ko(e){const t=[];return e.reduce((s,n)=>{const r=n.weeks.reduce((i,l)=>i.concat(l.days.slice()),t.slice());return s.concat(r.slice())},t.slice())}function Zo(e,t,s,n){const{numberOfMonths:r=1}=s,i=[];for(let l=0;l<r;l++){const a=n.addMonths(e,l);if(t&&a>t)break;i.push(a)}return i}function zt(e,t,s,n){const{month:r,defaultMonth:i,today:l=n.today(),numberOfMonths:a=1}=e;let c=r||i||l;const{differenceInCalendarMonths:d,addMonths:m,startOfMonth:f}=n;if(s&&d(s,c)<a-1){const h=-1*(a-1);c=m(s,h)}return t&&d(c,t)<0&&(c=t),f(c)}function Xo(e,t,s,n){const{addDays:r,endOfBroadcastWeek:i,endOfISOWeek:l,endOfMonth:a,endOfWeek:c,getISOWeek:d,getWeek:m,startOfBroadcastWeek:f,startOfISOWeek:h,startOfWeek:g}=n,N=e.reduce((k,p)=>{const y=s.broadcastCalendar?f(p,n):s.ISOWeek?h(p):g(p),O=s.broadcastCalendar?i(p):s.ISOWeek?l(a(p)):c(a(p)),S=t.filter(E=>E>=y&&E<=O),j=s.broadcastCalendar?35:42;if(s.fixedWeeks&&S.length<j){const E=t.filter(_=>{const F=j-S.length;return _>O&&_<=r(O,F)});S.push(...E)}const x=S.reduce((E,_)=>{const F=s.ISOWeek?d(_):m(_),R=E.find(se=>se.weekNumber===F),ee=new mn(_,p,n);return R?R.days.push(ee):E.push(new Hr(F,[ee])),E},[]),w=new Vr(p,x);return k.push(w),k},[]);return s.reverseMonths?N.reverse():N}function Jo(e,t){let{startMonth:s,endMonth:n}=e;const{startOfYear:r,startOfDay:i,startOfMonth:l,endOfMonth:a,addYears:c,endOfYear:d,newDate:m,today:f}=t,{fromYear:h,toYear:g,fromMonth:N,toMonth:k}=e;!s&&N&&(s=N),!s&&h&&(s=t.newDate(h,0,1)),!n&&k&&(n=k),!n&&g&&(n=m(g,11,31));const p=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return s?s=l(s):h?s=m(h,0,1):!s&&p&&(s=r(c(e.today??f(),-100))),n?n=a(n):g?n=m(g,11,31):!n&&p&&(n=d(e.today??f())),[s&&i(s),n&&i(n)]}function Qo(e,t,s,n){if(s.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i=1}=s,{startOfMonth:l,addMonths:a,differenceInCalendarMonths:c}=n,d=r?i:1,m=l(e);if(!t)return a(m,d);if(!(c(t,e)<i))return a(m,d)}function ea(e,t,s,n){if(s.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:i}=s,{startOfMonth:l,addMonths:a,differenceInCalendarMonths:c}=n,d=r?i??1:1,m=l(e);if(!t)return a(m,-d);if(!(c(m,t)<=0))return a(m,-d)}function ta(e){const t=[];return e.reduce((s,n)=>s.concat(n.weeks.slice()),t.slice())}function Ge(e,t){const[s,n]=u.useState(e);return[t===void 0?s:t,n]}function na(e,t){const[s,n]=Jo(e,t),{startOfMonth:r,endOfMonth:i}=t,l=zt(e,s,n,t),[a,c]=Ge(l,e.month?l:void 0);u.useEffect(()=>{const j=zt(e,s,n,t);c(j)},[e.timeZone]);const{months:d,weeks:m,days:f,previousMonth:h,nextMonth:g}=u.useMemo(()=>{const j=Zo(a,n,{numberOfMonths:e.numberOfMonths},t),x=qo(j,e.endMonth?i(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),w=Xo(j,x,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),E=ta(w),_=Ko(w),F=ea(a,s,e,t),R=Qo(a,n,e,t);return{months:w,weeks:E,days:_,previousMonth:F,nextMonth:R}},[t,a.getTime(),n?.getTime(),s?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:N,onMonthChange:k}=e,p=j=>m.some(x=>x.days.some(w=>w.isEqualTo(j))),y=j=>{if(N)return;let x=r(j);s&&x<r(s)&&(x=r(s)),n&&x>r(n)&&(x=r(n)),c(x),k?.(x)};return{months:d,weeks:m,days:f,navStart:s,navEnd:n,previousMonth:h,nextMonth:g,goToMonth:y,goToDay:j=>{p(j)||y(j.date)}}}var ge;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ge||(ge={}));function Rt(e){return!e[Q.disabled]&&!e[Q.hidden]&&!e[Q.outside]}function sa(e,t,s,n){let r,i=-1;for(const l of e){const a=t(l);Rt(a)&&(a[Q.focused]&&i<ge.FocusedModifier?(r=l,i=ge.FocusedModifier):n?.isEqualTo(l)&&i<ge.LastFocused?(r=l,i=ge.LastFocused):s(l.date)&&i<ge.Selected?(r=l,i=ge.Selected):a[Q.today]&&i<ge.Today&&(r=l,i=ge.Today))}return r||(r=e.find(l=>Rt(t(l)))),r}function ra(e,t,s,n,r,i,l){const{ISOWeek:a,broadcastCalendar:c}=i,{addDays:d,addMonths:m,addWeeks:f,addYears:h,endOfBroadcastWeek:g,endOfISOWeek:N,endOfWeek:k,max:p,min:y,startOfBroadcastWeek:O,startOfISOWeek:S,startOfWeek:j}=l;let w={day:d,week:f,month:m,year:h,startOfWeek:E=>c?O(E,l):a?S(E):j(E),endOfWeek:E=>c?g(E):a?N(E):k(E)}[e](s,t==="after"?1:-1);return t==="before"&&n?w=p([n,w]):t==="after"&&r&&(w=y([r,w])),w}function On(e,t,s,n,r,i,l,a=0){if(a>365)return;const c=ra(e,t,s.date,n,r,i,l),d=!!(i.disabled&&ke(c,i.disabled,l)),m=!!(i.hidden&&ke(c,i.hidden,l)),f=c,h=new mn(c,f,l);return!d&&!m?h:On(e,t,h,n,r,i,l,a+1)}function oa(e,t,s,n,r){const{autoFocus:i}=e,[l,a]=u.useState(),c=sa(t.days,s,n||(()=>!1),l),[d,m]=u.useState(i?c:void 0);return{isFocusTarget:k=>!!c?.isEqualTo(k),setFocused:m,focused:d,blur:()=>{a(d),m(void 0)},moveFocus:(k,p)=>{if(!d)return;const y=On(k,p,d,t.navStart,t.navEnd,e,r);y&&(e.disableNavigation&&!t.days.some(S=>S.isEqualTo(y))||(t.goToDay(y),m(y)))}}}function aa(e,t){const{selected:s,required:n,onSelect:r}=e,[i,l]=Ge(s,r?s:void 0),a=r?s:i,{isSameDay:c}=t,d=g=>a?.some(N=>c(N,g))??!1,{min:m,max:f}=e;return{selected:a,select:(g,N,k)=>{let p=[...a??[]];if(d(g)){if(a?.length===m||n&&a?.length===1)return;p=a?.filter(y=>!c(y,g))}else a?.length===f?p=[g]:p=[...p,g];return r||l(p),r?.(p,g,N,k),p},isSelected:d}}function ia(e,t,s=0,n=0,r=!1,i=be){const{from:l,to:a}=t||{},{isSameDay:c,isAfter:d,isBefore:m}=i;let f;if(!l&&!a)f={from:e,to:s>0?void 0:e};else if(l&&!a)c(l,e)?s===0?f={from:l,to:e}:r?f={from:l,to:void 0}:f=void 0:m(e,l)?f={from:e,to:l}:f={from:l,to:e};else if(l&&a)if(c(l,e)&&c(a,e))r?f={from:l,to:a}:f=void 0;else if(c(l,e))f={from:l,to:s>0?void 0:e};else if(c(a,e))f={from:e,to:s>0?void 0:e};else if(m(e,l))f={from:e,to:a};else if(d(e,l))f={from:l,to:e};else if(d(e,a))f={from:l,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const h=i.differenceInCalendarDays(f.to,f.from);n>0&&h>n?f={from:e,to:void 0}:s>1&&h<s&&(f={from:e,to:void 0})}return f}function la(e,t,s=be){const n=Array.isArray(t)?t:[t];let r=e.from;const i=s.differenceInCalendarDays(e.to,e.from),l=Math.min(i,6);for(let a=0;a<=l;a++){if(n.includes(r.getDay()))return!0;r=s.addDays(r,1)}return!1}function At(e,t,s=be){return we(e,t.from,!1,s)||we(e,t.to,!1,s)||we(t,e.from,!1,s)||we(t,e.to,!1,s)}function ca(e,t,s=be){const n=Array.isArray(t)?t:[t];if(n.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:s.isDate(a)?we(e,a,!1,s):xn(a,s)?a.some(c=>we(e,c,!1,s)):Ue(a)?a.from&&a.to?At(e,{from:a.from,to:a.to},s):!1:gn(a)?la(e,a.dayOfWeek,s):pt(a)?s.isAfter(a.before,a.after)?At(e,{from:s.addDays(a.after,1),to:s.addDays(a.before,-1)},s):ke(e.from,a,s)||ke(e.to,a,s):gt(a)||xt(a)?ke(e.from,a,s)||ke(e.to,a,s):!1))return!0;const l=n.filter(a=>typeof a=="function");if(l.length){let a=e.from;const c=s.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=c;d++){if(l.some(m=>m(a)))return!0;a=s.addDays(a,1)}}return!1}function da(e,t){const{disabled:s,excludeDisabled:n,selected:r,required:i,onSelect:l}=e,[a,c]=Ge(r,l?r:void 0),d=l?r:a;return{selected:d,select:(h,g,N)=>{const{min:k,max:p}=e,y=h?ia(h,d,k,p,i,t):void 0;return n&&s&&y?.from&&y.to&&ca({from:y.from,to:y.to},s,t)&&(y.from=h,y.to=void 0),l||c(y),l?.(y,h,g,N),y},isSelected:h=>d&&we(d,h,!1,t)}}function ua(e,t){const{selected:s,required:n,onSelect:r}=e,[i,l]=Ge(s,r?s:void 0),a=r?s:i,{isSameDay:c}=t;return{selected:a,select:(f,h,g)=>{let N=f;return!n&&a&&a&&c(f,a)&&(N=void 0),r||l(N),r?.(N,f,h,g),N},isSelected:f=>a?c(a,f):!1}}function fa(e,t){const s=ua(e,t),n=aa(e,t),r=da(e,t);switch(e.mode){case"single":return s;case"multiple":return n;case"range":return r;default:return}}function fe(e,t){return e instanceof ae&&e.timeZone===t?e:new ae(e,t)}function Oe(e,t,s){return fe(e,t)}function $t(e,t,s){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Oe(e,t):Array.isArray(e)?e.map(n=>n instanceof Date?Oe(n,t):n):Ue(e)?{...e,from:e.from?fe(e.from,t):e.from,to:e.to?fe(e.to,t):e.to}:pt(e)?{before:Oe(e.before,t),after:Oe(e.after,t)}:gt(e)?{after:Oe(e.after,t)}:xt(e)?{before:Oe(e.before,t)}:e}function at(e,t,s){return e&&(Array.isArray(e)?e.map(n=>$t(n,t)):$t(e,t))}function ha(e){let t=e;const s=t.timeZone;if(s&&(t={...e,timeZone:s},t.today&&(t.today=fe(t.today,s)),t.month&&(t.month=fe(t.month,s)),t.defaultMonth&&(t.defaultMonth=fe(t.defaultMonth,s)),t.startMonth&&(t.startMonth=fe(t.startMonth,s)),t.endMonth&&(t.endMonth=fe(t.endMonth,s)),t.mode==="single"&&t.selected?t.selected=fe(t.selected,s):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(z=>fe(z,s)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?fe(t.selected.from,s):t.selected.from,to:t.selected.to?fe(t.selected.to,s):t.selected.to}),t.disabled!==void 0&&(t.disabled=at(t.disabled,s)),t.hidden!==void 0&&(t.hidden=at(t.hidden,s)),t.modifiers)){const z={};Object.keys(t.modifiers).forEach(U=>{z[U]=at(t.modifiers?.[U],s)}),t.modifiers=z}const{components:n,formatters:r,labels:i,dateLib:l,locale:a,classNames:c}=u.useMemo(()=>{const z={...hn,...t.locale},U=t.broadcastCalendar?1:t.weekStartsOn,T=t.noonSafe&&t.timeZone?Yo(t.timeZone,{weekStartsOn:U,locale:z}):void 0,V=t.dateLib&&T?{...T,...t.dateLib}:t.dateLib??T,ie=new ce({locale:z,weekStartsOn:U,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},V);return{dateLib:ie,components:ko(t.components),formatters:To(t.formatters),labels:Ao(t.labels,ie.options),locale:z,classNames:{...No(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:l.today()});const{captionLayout:d,mode:m,navLayout:f,numberOfMonths:h=1,onDayBlur:g,onDayClick:N,onDayFocus:k,onDayKeyDown:p,onDayMouseEnter:y,onDayMouseLeave:O,onNextClick:S,onPrevClick:j,showWeekNumber:x,styles:w}=t,{formatCaption:E,formatDay:_,formatMonthDropdown:F,formatWeekNumber:R,formatWeekNumberHeader:ee,formatWeekdayName:se,formatYearDropdown:A}=r,q=na(t,l),{days:te,months:v,navStart:W,navEnd:H,previousMonth:I,nextMonth:B,goToMonth:M}=q,K=vo(te,t,W,H,l),{isSelected:$,select:G,selected:D}=fa(t,l)??{},{blur:L,focused:J,isFocusTarget:re,moveFocus:ye,setFocused:ne}=oa(t,q,K,$??(()=>!1),l),{labelDayButton:de,labelGridcell:De,labelGrid:P,labelMonthDropdown:X,labelNav:he,labelPrevious:je,labelNext:qe,labelWeekday:Ke,labelWeekNumber:Ze,labelWeekNumberHeader:En,labelYearDropdown:Wn}=i,Tn=u.useMemo(()=>Bo(l,t.ISOWeek,t.broadcastCalendar,t.today),[l,t.ISOWeek,t.broadcastCalendar,t.today]),vt=m!==void 0||N!==void 0,Xe=u.useCallback(()=>{I&&(M(I),j?.(I))},[I,M,j]),Je=u.useCallback(()=>{B&&(M(B),S?.(B))},[M,B,S]),In=u.useCallback((z,U)=>T=>{T.preventDefault(),T.stopPropagation(),ne(z),!U.disabled&&(G?.(z.date,U,T),N?.(z.date,U,T))},[G,N,ne]),Pn=u.useCallback((z,U)=>T=>{ne(z),k?.(z.date,U,T)},[k,ne]),zn=u.useCallback((z,U)=>T=>{L(),g?.(z.date,U,T)},[L,g]),Rn=u.useCallback((z,U)=>T=>{const V={ArrowLeft:[T.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[T.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[T.shiftKey?"year":"week","after"],ArrowUp:[T.shiftKey?"year":"week","before"],PageUp:[T.shiftKey?"year":"month","before"],PageDown:[T.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(V[T.key]){T.preventDefault(),T.stopPropagation();const[ie,Y]=V[T.key];ye(ie,Y)}p?.(z.date,U,T)},[ye,p,t.dir]),An=u.useCallback((z,U)=>T=>{y?.(z.date,U,T)},[y]),$n=u.useCallback((z,U)=>T=>{O?.(z.date,U,T)},[O]),Fn=u.useCallback(z=>U=>{const T=Number(U.target.value),V=l.setMonth(l.startOfMonth(z),T);M(V)},[l,M]),Bn=u.useCallback(z=>U=>{const T=Number(U.target.value),V=l.setYear(l.startOfMonth(z),T);M(V)},[l,M]),{className:Ln,style:Yn}=u.useMemo(()=>({className:[c[C.Root],t.className].filter(Boolean).join(" "),style:{...w?.[C.Root],...t.style}}),[c,t.className,t.style,w]),Vn=Do(t),wt=u.useRef(null);Go(wt,!!t.animate,{classNames:c,months:v,focused:J,dateLib:l});const Hn={dayPickerProps:t,selected:D,select:G,isSelected:$,months:v,nextMonth:B,previousMonth:I,goToMonth:M,getModifiers:K,components:n,classNames:c,styles:w,labels:i,formatters:r};return b.createElement(pn.Provider,{value:Hn},b.createElement(n.Root,{rootRef:t.animate?wt:void 0,className:Ln,style:Yn,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Vn},b.createElement(n.Months,{className:c[C.Months],style:w?.[C.Months]},!t.hideNavigation&&!f&&b.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[C.Nav],style:w?.[C.Nav],"aria-label":he(),onPreviousClick:Xe,onNextClick:Je,previousMonth:I,nextMonth:B}),v.map((z,U)=>b.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:c[C.Month],style:w?.[C.Month],key:U,displayIndex:U,calendarMonth:z},f==="around"&&!t.hideNavigation&&U===0&&b.createElement(n.PreviousMonthButton,{type:"button",className:c[C.PreviousMonthButton],tabIndex:I?void 0:-1,"aria-disabled":I?void 0:!0,"aria-label":je(I),onClick:Xe,"data-animated-button":t.animate?"true":void 0},b.createElement(n.Chevron,{disabled:I?void 0:!0,className:c[C.Chevron],orientation:t.dir==="rtl"?"right":"left"})),b.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[C.MonthCaption],style:w?.[C.MonthCaption],calendarMonth:z,displayIndex:U},d?.startsWith("dropdown")?b.createElement(n.DropdownNav,{className:c[C.Dropdowns],style:w?.[C.Dropdowns]},(()=>{const T=d==="dropdown"||d==="dropdown-months"?b.createElement(n.MonthsDropdown,{key:"month",className:c[C.MonthsDropdown],"aria-label":X(),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:Fn(z.date),options:$o(z.date,W,H,r,l),style:w?.[C.Dropdown],value:l.getMonth(z.date)}):b.createElement("span",{key:"month"},F(z.date,l)),V=d==="dropdown"||d==="dropdown-years"?b.createElement(n.YearsDropdown,{key:"year",className:c[C.YearsDropdown],"aria-label":Wn(l.options),classNames:c,components:n,disabled:!!t.disableNavigation,onChange:Bn(z.date),options:Lo(W,H,r,l,!!t.reverseYears),style:w?.[C.Dropdown],value:l.getYear(z.date)}):b.createElement("span",{key:"year"},A(z.date,l));return l.getMonthYearOrder()==="year-first"?[V,T]:[T,V]})(),b.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},E(z.date,l.options,l))):b.createElement(n.CaptionLabel,{className:c[C.CaptionLabel],role:"status","aria-live":"polite"},E(z.date,l.options,l))),f==="around"&&!t.hideNavigation&&U===h-1&&b.createElement(n.NextMonthButton,{type:"button",className:c[C.NextMonthButton],tabIndex:B?void 0:-1,"aria-disabled":B?void 0:!0,"aria-label":qe(B),onClick:Je,"data-animated-button":t.animate?"true":void 0},b.createElement(n.Chevron,{disabled:B?void 0:!0,className:c[C.Chevron],orientation:t.dir==="rtl"?"left":"right"})),U===h-1&&f==="after"&&!t.hideNavigation&&b.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[C.Nav],style:w?.[C.Nav],"aria-label":he(),onPreviousClick:Xe,onNextClick:Je,previousMonth:I,nextMonth:B}),b.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":m==="multiple"||m==="range","aria-label":P(z.date,l.options,l)||void 0,className:c[C.MonthGrid],style:w?.[C.MonthGrid]},!t.hideWeekdays&&b.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[C.Weekdays],style:w?.[C.Weekdays]},x&&b.createElement(n.WeekNumberHeader,{"aria-label":En(l.options),className:c[C.WeekNumberHeader],style:w?.[C.WeekNumberHeader],scope:"col"},ee()),Tn.map(T=>b.createElement(n.Weekday,{"aria-label":Ke(T,l.options,l),className:c[C.Weekday],key:String(T),style:w?.[C.Weekday],scope:"col"},se(T,l.options,l)))),b.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[C.Weeks],style:w?.[C.Weeks]},z.weeks.map(T=>b.createElement(n.Week,{className:c[C.Week],key:T.weekNumber,style:w?.[C.Week],week:T},x&&b.createElement(n.WeekNumber,{week:T,style:w?.[C.WeekNumber],"aria-label":Ze(T.weekNumber,{locale:a}),className:c[C.WeekNumber],scope:"row",role:"rowheader"},R(T.weekNumber,l)),T.days.map(V=>{const{date:ie}=V,Y=K(V);if(Y[Q.focused]=!Y.hidden&&!!J?.isEqualTo(V),Y[pe.selected]=$?.(ie)||Y.selected,Ue(D)){const{from:Qe,to:et}=D;Y[pe.range_start]=!!(Qe&&et&&l.isSameDay(ie,Qe)),Y[pe.range_end]=!!(Qe&&et&&l.isSameDay(ie,et)),Y[pe.range_middle]=we(D,ie,!0,l)}const Un=Fo(Y,w,t.modifiersStyles),Gn=wo(Y,c,t.modifiersClassNames),qn=!vt&&!Y.hidden?De(ie,Y,l.options,l):void 0;return b.createElement(n.Day,{key:`${V.isoDate}_${V.displayMonthId}`,day:V,modifiers:Y,className:Gn.join(" "),style:Un,role:"gridcell","aria-selected":Y.selected||void 0,"aria-label":qn,"data-day":V.isoDate,"data-month":V.outside?V.dateMonthId:void 0,"data-selected":Y.selected||void 0,"data-disabled":Y.disabled||void 0,"data-hidden":Y.hidden||void 0,"data-outside":V.outside||void 0,"data-focused":Y.focused||void 0,"data-today":Y.today||void 0},!Y.hidden&&vt?b.createElement(n.DayButton,{className:c[C.DayButton],style:w?.[C.DayButton],type:"button",day:V,modifiers:Y,disabled:!Y.focused&&Y.disabled||void 0,"aria-disabled":Y.focused&&Y.disabled||void 0,tabIndex:re(V)?0:-1,"aria-label":de(ie,Y,l.options,l),onClick:In(V,Y),onBlur:zn(V,Y),onFocus:Pn(V,Y),onKeyDown:Rn(V,Y),onMouseEnter:An(V,Y),onMouseLeave:$n(V,Y)},_(ie,l.options,l)):!Y.hidden&&_(V.date,l.options,l))})))))))),t.footer&&b.createElement(n.Footer,{className:c[C.Footer],style:w?.[C.Footer],role:"status","aria-live":"polite"},t.footer)))}const Ft=[{type:"all",label:"å…¨éƒ¨æ—¶é—´"},{type:"yesterday",label:"æ˜¨æ—¥"},{type:"7days",label:"è¿‘7å¤©"},{type:"30days",label:"è¿‘30å¤©"},{type:"thisWeek",label:"æœ¬å‘¨"},{type:"thisMonth",label:"æœ¬æœˆ"}],ma=()=>{const{stores:e,selectedStore:t,setSelectedStore:s,storesLoading:n,dateRange:r,setQuickDateRange:i,setDateRange:l,storeDateRange:a}=He(),[c,d]=u.useState(!1),[m,f]=u.useState(!1),[h,g]=u.useState(!1),[N,k]=u.useState(""),[p,y]=u.useState(),O=u.useRef(null),S=u.useRef(null),j=u.useRef(null),x=u.useRef(null),w=u.useRef(null),E=u.useRef(null),_=a?.min_date?Fe(a.min_date,"yyyy-MM-dd",new Date):void 0,F=a?.max_date?Fe(a.max_date,"yyyy-MM-dd",new Date):void 0;u.useEffect(()=>{const M=K=>{const $=K.target;c&&O.current&&!O.current.contains($)&&x.current&&!x.current.contains($)&&d(!1),m&&S.current&&!S.current.contains($)&&w.current&&!w.current.contains($)&&f(!1),h&&j.current&&!j.current.contains($)&&E.current&&!E.current.contains($)&&g(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[c,m,h]);const R=M=>M.replace(/\s*\([0-9,]+å•\)\s*$/,"").trim(),ee=e.filter(M=>R(M.label).toLowerCase().includes(N.toLowerCase())),se=t?R(e.find(M=>M.value===t)?.label||t):"é€‰æ‹©é—¨åº—",A=r.type==="custom"?`${r.start} ~ ${r.end}`:Ft.find(M=>M.type===r.type)?.label||"å…¨éƒ¨",q=u.useCallback(M=>{s(M),d(!1),k("")},[s]),te=u.useCallback(M=>{i(M),f(!1)},[i]),v=u.useCallback(M=>{y(M)},[]),W=u.useCallback(()=>{p?.from&&p?.to&&(l({type:"custom",start:ve(p.from,"yyyy-MM-dd"),end:ve(p.to,"yyyy-MM-dd")}),g(!1))},[p,l]),H=u.useCallback(()=>{if(r.type==="custom"&&r.start&&r.end){const M=Fe(r.start,"yyyy-MM-dd",new Date),K=Fe(r.end,"yyyy-MM-dd",new Date);kt(M)&&kt(K)&&y({from:M,to:K})}else y(void 0);g(!0)},[r]),I=u.useCallback(M=>!!(_&&en(M,_)||F&&Qt(M,F)),[_,F]),B=M=>{if(!M.current)return{top:0,left:0};const K=M.current.getBoundingClientRect();return{top:K.bottom+8,left:K.left}};return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:O,onClick:()=>d(!c),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm text-white transition-all",children:[o.jsx(tn,{size:16,className:"text-indigo-400"}),o.jsx("span",{className:"max-w-[120px] truncate",children:se}),o.jsx(ct,{size:14,className:`text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&Le.createPortal(o.jsxs("div",{ref:x,style:B(O),className:"fixed w-64 bg-slate-900 border border-white/10 rounded-xl shadow-2xl z-[9999] overflow-hidden animate-fade-in-up",children:[o.jsx("div",{className:"p-2 border-b border-white/10",children:o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white/5 rounded-lg",children:[o.jsx(Ss,{size:14,className:"text-slate-400"}),o.jsx("input",{type:"text",placeholder:"æœç´¢é—¨åº—...",value:N,onChange:M=>k(M.target.value),className:"flex-1 bg-transparent text-sm text-white placeholder-slate-500 outline-none",autoFocus:!0})]})}),o.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[o.jsx("div",{className:"px-4 py-2 text-xs text-slate-500 border-b border-white/5",children:"è¯·é€‰æ‹©ä¸€ä¸ªé—¨åº—æŸ¥çœ‹æ•°æ®"}),n?o.jsx("div",{className:"px-4 py-8 text-center text-slate-500 text-sm",children:"åŠ è½½ä¸­..."}):ee.length===0?o.jsx("div",{className:"px-4 py-8 text-center text-slate-500 text-sm",children:N?"æœªæ‰¾åˆ°åŒ¹é…çš„é—¨åº—":"æš‚æ— é—¨åº—æ•°æ®"}):ee.map(M=>o.jsxs("button",{onClick:()=>q(M.value),className:`w-full flex items-center justify-between px-4 py-2.5 text-sm transition-colors ${t===M.value?"bg-indigo-500/20 text-indigo-300":"text-slate-300 hover:bg-white/5"}`,children:[o.jsx("span",{children:R(M.label)}),t===M.value&&o.jsx(Ye,{size:14,className:"text-indigo-400"})]},M.value))]})]}),document.body)]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:S,onClick:()=>f(!m),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-sm text-white transition-all",children:[o.jsx(Dt,{size:16,className:"text-emerald-400"}),o.jsx("span",{className:"max-w-[180px] truncate",children:A}),o.jsx(ct,{size:14,className:`text-slate-400 transition-transform ${m?"rotate-180":""}`})]}),m&&Le.createPortal(o.jsx("div",{ref:w,style:B(S),className:"fixed w-40 bg-slate-900 border border-white/10 rounded-xl shadow-2xl z-[9999] overflow-hidden animate-fade-in-up",children:Ft.map(({type:M,label:K})=>o.jsxs("button",{onClick:()=>te(M),className:`w-full flex items-center justify-between px-4 py-2.5 text-sm transition-colors ${r.type===M?"bg-emerald-500/20 text-emerald-300":"text-slate-300 hover:bg-white/5"}`,children:[o.jsx("span",{children:K}),r.type===M&&o.jsx(Ye,{size:14,className:"text-emerald-400"})]},M))}),document.body)]}),o.jsxs("button",{ref:j,onClick:H,className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${r.type==="custom"?"bg-indigo-500/20 border-indigo-500/50 text-indigo-300":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10 hover:text-white hover:border-white/20"}`,children:[o.jsx(Dt,{size:16,className:r.type==="custom"?"text-indigo-400":"text-slate-400"}),o.jsx("span",{className:"text-sm",children:"è‡ªå®šä¹‰"})]}),h&&Le.createPortal(o.jsxs("div",{ref:E,style:{top:j.current?.getBoundingClientRect().bottom+8,left:Math.min(j.current?.getBoundingClientRect().left||0,window.innerWidth-620)},className:"fixed z-[9999] p-5 rounded-xl border shadow-2xl bg-slate-900 border-white/10",children:[a?.min_date&&a?.max_date&&o.jsx("div",{className:"mb-4 px-3 py-2 bg-indigo-500/10 border border-indigo-500/20 rounded-lg",children:o.jsxs("p",{className:"text-xs text-indigo-300",children:["ðŸ“… å¯é€‰æ•°æ®èŒƒå›´: ",a.min_date," ~ ",a.max_date]})}),o.jsx("style",{children:`
            .calendar-container .rdp-root {
              --rdp-accent-color: #6366f1;
              --rdp-accent-background-color: rgba(99, 102, 241, 0.2);
            }
            .calendar-container .rdp-months {
              display: flex;
              gap: 2rem;
            }
            .calendar-container .rdp-month_caption {
              display: flex;
              justify-content: center;
              align-items: center;
              height: 40px;
              font-weight: 600;
              font-size: 14px;
              color: #f1f5f9;
            }
            .calendar-container .rdp-nav {
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              display: flex;
              justify-content: space-between;
              padding: 0 8px;
            }
            .calendar-container .rdp-button_previous,
            .calendar-container .rdp-button_next {
              width: 32px;
              height: 32px;
              border-radius: 8px;
              background: rgba(255, 255, 255, 0.05);
              color: #94a3b8;
              display: flex;
              align-items: center;
              justify-content: center;
              border: none;
              cursor: pointer;
              transition: all 0.15s;
            }
            .calendar-container .rdp-button_previous:hover,
            .calendar-container .rdp-button_next:hover {
              background: rgba(255, 255, 255, 0.1);
              color: #f1f5f9;
            }
            .calendar-container .rdp-weekday {
              color: #64748b;
              font-size: 12px;
              font-weight: 500;
              padding: 8px 0;
            }
            .calendar-container .rdp-day {
              width: 36px;
              height: 36px;
            }
            .calendar-container .rdp-day button {
              width: 36px;
              height: 36px;
              border-radius: 8px;
              color: #cbd5e1;
              font-weight: 400;
              font-size: 13px;
              transition: all 0.15s;
              border: none;
              background: transparent;
              cursor: pointer;
            }
            .calendar-container .rdp-day button:hover:not(:disabled) {
              background: rgba(255, 255, 255, 0.08);
              color: #f1f5f9;
            }
            .calendar-container .rdp-today button {
              color: #818cf8;
              box-shadow: inset 0 0 0 1px #6366f1;
            }
            .calendar-container .rdp-selected button,
            .calendar-container .rdp-range_start button,
            .calendar-container .rdp-range_end button {
              background: #6366f1 !important;
              color: white !important;
            }
            .calendar-container .rdp-range_middle button {
              background: rgba(99, 102, 241, 0.2) !important;
              color: #a5b4fc !important;
              border-radius: 0 !important;
            }
            .calendar-container .rdp-range_start button {
              border-radius: 8px 0 0 8px !important;
            }
            .calendar-container .rdp-range_end button {
              border-radius: 0 8px 8px 0 !important;
            }
            .calendar-container .rdp-disabled button {
              color: #334155 !important;
              opacity: 0.4;
              cursor: not-allowed !important;
            }
            .calendar-container .rdp-disabled button:hover {
              background: transparent !important;
            }
            .calendar-container .rdp-outside button {
              color: #475569;
              opacity: 0.5;
            }
          `}),o.jsx("div",{className:"calendar-container",children:o.jsx(ha,{mode:"range",numberOfMonths:2,selected:p,onSelect:v,locale:Yr,disabled:I,defaultMonth:F?new Date(F.getFullYear(),F.getMonth()-1):new Date,startMonth:_,endMonth:F,showOutsideDays:!1,components:{Chevron:({orientation:M})=>M==="left"?o.jsx(js,{size:18}):o.jsx(ht,{size:18})}})}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-slate-400",children:p?.from&&p?.to?o.jsxs("span",{className:"text-emerald-400 font-medium",children:["å·²é€‰: ",ve(p.from,"yyyy-MM-dd")," ~ ",ve(p.to,"yyyy-MM-dd")]}):p?.from?o.jsx("span",{className:"text-amber-400",children:"è¯·é€‰æ‹©ç»“æŸæ—¥æœŸ"}):o.jsx("span",{children:"ç‚¹å‡»é€‰æ‹©å¼€å§‹æ—¥æœŸ"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm text-slate-400 hover:text-white transition-colors",children:"å–æ¶ˆ"}),o.jsx("button",{onClick:W,disabled:!p?.from||!p?.to,className:"px-5 py-2 bg-indigo-500 text-white rounded-lg text-sm font-medium hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"ç¡®è®¤é€‰æ‹©"})]})]})]}),document.body)]})},Bt=new Set,pa=e=>{if(!Bt.has(e))switch(Bt.add(e),e){case"/data":oe(()=>import("./DataManagement-BR6ARE7P.js"),__vite__mapDeps([0,1,2,3,4]));break;case"/stores":oe(()=>import("./StoreComparisonView-CstxEvfd.js"),__vite__mapDeps([5,1,2,3,4]));break}},ga=({children:e,theme:t,onToggleTheme:s})=>{const n=Kn(),{systemStatus:r}=He(),[i,l]=u.useState(!1),a=()=>r.database==="checking"?"CHECKING...":r.database==="disconnected"?"DB OFFLINE":r.redis==="disconnected"?"CACHE OFFLINE":"ONLINE",c=r.database==="connected";return o.jsxs("div",{className:"flex min-h-screen font-sans selection:bg-neon-purple selection:text-white relative transition-colors duration-500",children:[o.jsxs("aside",{className:"hidden md:flex flex-col glass-panel border-r border-white/5 sticky top-0 h-screen z-40",style:{width:i?"80px":"256px",transition:"width 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsxs("div",{className:"h-20 flex items-center border-b border-white/5 overflow-hidden",style:{paddingLeft:i?"0":"24px",justifyContent:i?"center":"flex-start",transition:"padding 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsxs("div",{className:"relative group cursor-pointer flex-shrink-0",children:[o.jsx("div",{className:"absolute inset-0 bg-neon-purple blur-lg opacity-20 group-hover:opacity-40 transition-opacity"}),o.jsx("div",{className:"relative bg-gradient-to-br from-indigo-600 to-purple-700 w-9 h-9 rounded-xl flex items-center justify-center shadow-lg border border-white/10 group-hover:scale-105 transition-transform",children:o.jsx(nn,{size:20,className:"text-white fill-current"})})]}),o.jsxs("div",{className:"ml-3 overflow-hidden whitespace-nowrap",style:{opacity:i?0:1,width:i?0:"auto",transition:"opacity 0.25s ease, width 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsxs("span",{className:"font-bold text-xl tracking-tight text-white font-mono",children:["O2O",o.jsx("span",{className:"text-neon-purple",children:"Dashboard"})]}),o.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:"React v1.0"})]})]}),o.jsxs("nav",{className:"flex-1 py-8 space-y-2 px-3 overflow-hidden",children:[o.jsx(_e,{to:"/",icon:o.jsx(Cs,{size:20}),label:"ç»è¥æ€»è§ˆ",active:n.pathname==="/",collapsed:i}),o.jsx(_e,{to:"/stores",icon:o.jsx(tn,{size:20}),label:"å…¨é‡é—¨åº—å¯¹æ¯”",active:n.pathname==="/stores",collapsed:i}),o.jsx(_e,{to:"/data",icon:o.jsx(Os,{size:20}),label:"æ•°æ®ç®¡ç†",active:n.pathname==="/data",collapsed:i}),o.jsx(_e,{to:"/channels",icon:o.jsx(_s,{size:20}),label:"æ¸ é“åˆ†æž",active:n.pathname==="/channels",collapsed:i}),o.jsx(_e,{to:"/trends",icon:o.jsx(sn,{size:20}),label:"è¶‹åŠ¿æ´žå¯Ÿ",active:n.pathname==="/trends",collapsed:i}),o.jsx("div",{className:"my-4 border-t border-white/5 mx-2"}),o.jsx(_e,{to:"/settings",icon:o.jsx(Es,{size:20}),label:"ç³»ç»Ÿè®¾ç½®",active:n.pathname==="/settings",collapsed:i})]}),o.jsxs("div",{className:"p-4 border-t border-white/5 bg-gradient-to-t from-slate-900/10 to-transparent overflow-hidden",children:[o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 p-2 mb-4 rounded-lg bg-white/5 hover:bg-white/10 border border-white/5 transition-colors group",style:{justifyContent:i?"center":"flex-start"},children:[o.jsx("div",{className:`p-1.5 rounded-md flex-shrink-0 ${t==="dark"?"bg-indigo-500 text-white":"text-slate-400"}`,children:o.jsx(Ws,{size:14})}),o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden whitespace-nowrap",style:{opacity:i?0:1,width:i?0:"auto",transition:"opacity 0.25s ease, width 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsx("div",{className:`p-1.5 rounded-md ${t==="light"?"bg-amber-400 text-white":"text-slate-400"}`,children:o.jsx(Ts,{size:14})}),o.jsx("span",{className:"text-xs font-medium text-slate-400 group-hover:text-white",children:t==="dark"?"Presentation":"Workstation"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",style:{justifyContent:i?"center":"flex-start",paddingLeft:i?0:"8px"},children:[o.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-800 flex items-center justify-center border border-white/10 shadow-inner ring-1 ring-white/5 flex-shrink-0",children:o.jsx(Is,{size:16,className:"text-slate-300"})}),o.jsxs("div",{className:"overflow-hidden whitespace-nowrap",style:{opacity:i?0:1,width:i?0:"auto",transition:"opacity 0.25s ease, width 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:[o.jsx("p",{className:"text-sm font-bold text-slate-100",children:"Admin User"}),o.jsx("p",{className:"text-xs text-neon-cyan font-mono",children:"OPERATOR_LVL_5"})]})]}),o.jsxs("button",{onClick:()=>l(!i),className:"w-full mt-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-white/5 hover:bg-white/10 border border-white/5 text-slate-400 hover:text-white group",style:{transition:"all 0.2s ease"},children:[o.jsx("div",{style:{transform:i?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:o.jsx(ht,{size:16})}),o.jsx("span",{className:"text-xs overflow-hidden whitespace-nowrap",style:{opacity:i?0:1,width:i?0:"auto",transition:"opacity 0.25s ease, width 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:"æ”¶èµ·ä¾§æ "})]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative z-10",children:[o.jsxs("header",{className:"h-20 bg-transparent flex items-center justify-between px-6 md:px-8 sticky top-0 z-30 backdrop-blur-sm",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white tracking-wide",children:"å…¨æ¸ é“ç»è¥å¤ç›˜çœ‹æ¿"}),o.jsxs("p",{className:`text-xs font-mono mt-0.5 opacity-70 flex items-center gap-1.5 ${c?"text-slate-400":"text-amber-400"}`,children:[c?o.jsx(Ps,{size:10,className:"text-emerald-400"}):o.jsx(zs,{size:10,className:"text-amber-400"}),"SYSTEM: ",a()]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ma,{}),o.jsxs("div",{className:`hidden sm:flex items-center gap-2 glass-panel px-4 py-1.5 rounded-full border text-xs shadow-lg ${c?"border-white/10 text-neon-cyan":"border-amber-500/30 text-amber-400"}`,children:[o.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${c?"bg-neon-cyan":"bg-amber-400"}`}),o.jsx("span",{className:"font-mono",children:c?"LIVE_DATA":"OFFLINE"})]}),o.jsxs("button",{className:"relative p-2.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full text-slate-300 hover:text-white transition-all hover:shadow-[0_0_15px_rgba(255,255,255,0.1)] group",children:[o.jsx(Rs,{size:20,className:"group-hover:rotate-12 transition-transform"}),o.jsx("span",{className:"absolute top-0 right-0 w-2.5 h-2.5 bg-neon-rose rounded-full border-2 border-slate-900"})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8 z-10 custom-scrollbar",children:o.jsx("div",{className:"w-full h-full flex flex-col gap-8 pb-10",children:e})})]})]})},_e=({to:e,icon:t,label:s,active:n=!1,collapsed:r=!1})=>{const i=u.useCallback(()=>{pa(e)},[e]);return o.jsxs(Zn,{to:e,className:`relative group w-full flex items-center gap-3 px-3 py-3 rounded-xl overflow-hidden ${n?"text-white shadow-[0_0_20px_rgba(139,92,246,0.15)] bg-white/5":"text-slate-400 hover:text-white"}`,style:{justifyContent:r?"center":"flex-start",transition:"all 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},title:r?s:void 0,onMouseEnter:i,children:[n&&o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-neon-purple rounded-full shadow-[0_0_10px_#a78bfa]"}),!n&&o.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/5 transition-colors"}),o.jsx("div",{className:`relative z-10 flex-shrink-0 transition-transform group-hover:scale-110 ${n?"text-neon-purple":"group-hover:text-slate-200"}`,children:t}),o.jsx("span",{className:"relative z-10 text-sm font-medium tracking-wide whitespace-nowrap overflow-hidden",style:{opacity:r?0:1,width:r?0:"auto",transition:"opacity 0.25s ease, width 0.35s cubic-bezier(0.4, 0, 0.2, 1)"},children:s}),r&&o.jsxs("div",{className:"absolute left-full ml-2 px-3 py-1.5 bg-slate-800 text-white text-xs font-medium rounded-lg shadow-xl border border-white/10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:[s,o.jsx("div",{className:"absolute left-0 top-1/2 -translate-x-1 -translate-y-1/2 w-2 h-2 bg-slate-800 rotate-45 border-l border-b border-white/10"})]})]})},xa=(e,t=1500)=>{const[s,n]=u.useState(e);return u.useEffect(()=>{if(e==="-"||e==="0"||!e){n(e);return}const r=parseFloat(e.replace(/[^0-9.-]/g,""));if(isNaN(r)){n(e);return}const i=e.includes("Â¥")?"Â¥":"",l=e.includes("k")?"k":"",a=e.includes("."),c=r<0;let d=null,m,f=!1;const h=k=>{if(f)return;d||(d=k);const p=Math.min((k-d)/t,1),y=1-Math.pow(1-p,5),O=Math.abs(r)*y,S=a?O.toFixed(1):Math.round(O).toLocaleString();n(`${i}${c?"-":""}${S}${l}`),p<1?m=requestAnimationFrame(h):n(e)},g=`${i}${c?"-":""}0${l}`;n(g);const N=setTimeout(()=>{m=requestAnimationFrame(h)},16);return()=>{f=!0,clearTimeout(N),m&&cancelAnimationFrame(m)}},[e,t]),s},Lt={emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",indigo:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20",violet:"bg-violet-500/10 text-violet-400 border-violet-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",rose:"bg-rose-500/10 text-rose-400 border-rose-500/20",orange:"bg-orange-500/10 text-orange-400 border-orange-500/20",pink:"bg-pink-500/10 text-pink-400 border-pink-500/20"},Yt={emerald:"bg-emerald-600",indigo:"bg-indigo-600",violet:"bg-violet-600",amber:"bg-amber-600",cyan:"bg-cyan-600",rose:"bg-rose-600",orange:"bg-orange-600",pink:"bg-pink-600"},Ne=({title:e,value:t,change:s,subtext:n,icon:r,trendColor:i="green",iconColor:l,theme:a="dark",loading:c=!1,compact:d=!1,isPercentChange:m=!1})=>{const f=s!==void 0,h=f?s>=0:!0,N=xa(c?"-":t),k=a==="dark",p=l||(i==="red"?"rose":"emerald"),y=Lt[p]||Lt.emerald,O=Yt[p]||Yt.emerald,S=k?"text-white":"text-slate-900",j=k?"text-slate-400":"text-slate-500",x=d?"p-4":"p-6",w=d?"text-[10px]":"text-[11px]",E=d?"text-xl":"text-3xl",_=d?"p-2":"p-3",F=()=>f?m?`${s>=0?"+":""}${s.toFixed(1)}pp`:`${s>=0?"+":""}${s.toFixed(1)}%`:"";return o.jsx("div",{className:"relative group rounded-2xl transition-all duration-500 hover:shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)]",children:o.jsxs("div",{className:`glass-panel rounded-2xl ${x} h-full relative overflow-hidden transition-colors ${k?"group-hover:border-white/10":"group-hover:border-black/5"}`,children:[o.jsx("div",{className:`absolute top-0 bottom-0 left-0 w-1/2 bg-gradient-to-r from-transparent ${k?"via-white/5":"via-black/5"} to-transparent skew-x-[-15deg] animate-shimmer pointer-events-none`}),o.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 rounded-full blur-[60px] opacity-0 transition-all duration-700 group-hover:opacity-15 group-hover:scale-110 ${O}`}),o.jsxs("div",{className:"flex justify-between items-start mb-3 relative z-10",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`${w} font-bold uppercase tracking-widest mb-1 font-mono ${j} truncate`,children:e}),c?o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(As,{size:d?16:24,className:`animate-spin ${j}`})}):o.jsx("h3",{className:`${E} font-bold font-mono tracking-tight drop-shadow-lg tabular-nums ${S} truncate`,children:N})]}),o.jsx("div",{className:`${_} rounded-xl border backdrop-blur-md transition-transform duration-300 group-hover:rotate-6 ${y} flex-shrink-0`,children:r})]}),o.jsxs("div",{className:"flex items-center justify-between relative z-10 mt-2",children:[f?o.jsxs("div",{className:`flex items-center text-[10px] font-bold px-2 py-0.5 rounded-md border backdrop-blur-sm ${h?"bg-emerald-500/5 text-emerald-400 border-emerald-500/20":"bg-rose-500/5 text-rose-400 border-rose-500/20"}`,children:[h?o.jsx($s,{size:12,className:"mr-0.5"}):o.jsx(Fs,{size:12,className:"mr-0.5"}),o.jsx("span",{className:"font-mono",children:F()})]}):o.jsx("div",{className:`flex items-center text-[10px] font-medium px-2 py-0.5 rounded-md border backdrop-blur-sm ${k?"bg-slate-500/5 text-slate-400 border-slate-500/20":"bg-slate-100 text-slate-500 border-slate-200"}`,children:o.jsx("span",{className:"font-mono",children:"æ— æ•°æ®"})}),o.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-medium tracking-wide ${j}`,children:[o.jsx(rn,{size:10,className:"opacity-50"}),n]})]})]})})};function ba(e,t=100,s="date"){if(!e||e.length<=t)return e;const n=Math.ceil(e.length/t),r=[];for(let i=0;i<e.length;i+=n){const l=e.slice(i,Math.min(i+n,e.length)),a=Math.floor(l.length/2);r.push(l[a])}return r[0]!==e[0]&&r.unshift(e[0]),r[r.length-1]!==e[e.length-1]&&r.push(e[e.length-1]),console.log(`ðŸ“Š æ•°æ®é‡‡æ ·: ${e.length} -> ${r.length} ç‚¹ (${((1-r.length/e.length)*100).toFixed(1)}% å‡å°‘)`),r}function ya(e,t=1e3){if(!e||e.length<=t)return e;const s=[],n=e.length/t;for(let r=0;r<t;r++){const i=Math.floor(r*n);s.push(e[i])}return console.log(`ðŸ“Š æ•£ç‚¹å›¾é‡‡æ ·: ${e.length} -> ${s.length} ç‚¹`),s}function Vt(e,t=100){return e>t}let Ht=!1;const Ut=()=>{Ht||(Ct("neon-cyber",{backgroundColor:"transparent",textStyle:{fontFamily:"JetBrains Mono, Inter, sans-serif"},title:{textStyle:{color:"#f8fafc"},subtextStyle:{color:"#94a3b8"}},line:{itemStyle:{borderWidth:2},lineStyle:{width:3},symbolSize:8,symbol:"circle",smooth:!0},categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#94a3b8",fontSize:11},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:10},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.05)",type:"dashed"}}},tooltip:{backgroundColor:"rgba(15, 23, 42, 0.95)",borderColor:"rgba(255, 255, 255, 0.1)",textStyle:{color:"#f8fafc"},padding:12,extraCssText:"backdrop-filter: blur(10px); border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);"}}),Ct("clean-light",{backgroundColor:"transparent",textStyle:{fontFamily:"JetBrains Mono, Inter, sans-serif"},title:{textStyle:{color:"#0f172a"},subtextStyle:{color:"#64748b"}},line:{itemStyle:{borderWidth:2},lineStyle:{width:3},symbolSize:8,symbol:"circle",smooth:!0},categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:11},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#64748b",fontSize:10},splitLine:{show:!0,lineStyle:{color:"rgba(0,0,0,0.06)",type:"dashed"}}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderColor:"rgba(0, 0, 0, 0.1)",textStyle:{color:"#0f172a"},padding:12,extraCssText:"backdrop-filter: blur(10px); border-radius: 8px; box-shadow: 0 10px 20px rgba(0,0,0,0.1);"}}),Ht=!0)};function Gt(e,t){let s=null;return(...n)=>{s&&clearTimeout(s),s=setTimeout(()=>e(...n),t)}}const va=(e,t,s="dark",n,r=!0)=>{const i=u.useRef(null),l=u.useRef(null),a=u.useRef(!1),c=u.useRef(null),d=u.useRef(null),m=u.useCallback(h=>{if(!r)return h;const g={...h},N=g.series;return Array.isArray(N)&&(g.series=N.map(k=>{if(!Array.isArray(k.data)||k.data.length===0)return k;const p=k.data.length;return k.type==="line"&&Vt(p,100)?{...k,data:ba(k.data,100)}:k.type==="scatter"&&Vt(p,1e3)?{...k,data:ya(k.data,1e3)}:k})),g},[r]),f=u.useCallback(()=>{if(!(a.current||!l.current))try{if(!i.current||!document.body.contains(i.current))return;l.current.resize({animation:{duration:200,easing:"cubicOut"}})}catch(h){console.debug("[useChart] Resize skipped:",h)}},[]);return u.useEffect(()=>{if(!i.current)return;Ut();const h=s==="light"?"clean-light":"neon-cyber";if(l.current){try{l.current.dispose()}catch(g){console.debug("[useChart] Dispose error:",g)}l.current=null}return a.current=!1,l.current=jt(i.current,h,{renderer:"canvas",useDirtyRect:!0}),n&&l.current.on("click",n),d.current=Gt(f,100),c.current=new ResizeObserver(()=>{d.current?.()}),c.current.observe(i.current),()=>{if(a.current=!0,c.current&&(c.current.disconnect(),c.current=null),l.current){try{l.current.off("click"),l.current.dispose()}catch(g){console.debug("[useChart] Cleanup error:",g)}l.current=null}}},[s,f]),u.useEffect(()=>{if(console.log("[useChart] æ›´æ–° effect è§¦å‘, chartRef:",!!i.current,"chartInstance:",!!l.current),i.current&&!l.current&&!a.current){console.log("[useChart] å»¶è¿Ÿåˆ›å»ºå›¾è¡¨å®žä¾‹"),Ut();const p=s==="light"?"clean-light":"neon-cyber";l.current=jt(i.current,p,{renderer:"canvas",useDirtyRect:!0}),c.current||(d.current=Gt(f,100),c.current=new ResizeObserver(()=>{d.current?.()}),c.current.observe(i.current)),n&&l.current.on("click",n)}if(a.current||!l.current){console.log("[useChart] è·³è¿‡æ›´æ–°: isDisposed=",a.current,"chartInstance=",!!l.current);return}const h=Object.keys(e||{});if(h.length===0){console.log("[useChart] è·³è¿‡æ›´æ–°: ç©ºå¯¹è±¡");return}const g=e?.series;if(Array.isArray(g)&&g.length===0){console.log("[useChart] è·³è¿‡æ›´æ–°: ç©º series æ•°ç»„");return}const N=h.some(p=>p!=="series"&&e[p]!==void 0);if(!Array.isArray(g)&&!N){console.log("[useChart] è·³è¿‡æ›´æ–°: æ—  series ä¸”æ— å…¶ä»–é…ç½®");return}const k=Array.isArray(g)&&g.some(p=>{if(!Array.isArray(p.data)||p.data.length===0)return!1;const y=p.data[0];return y==null?!1:typeof y=="object"&&"value"in y?y.value!==void 0&&y.value!==null:!0});if(console.log("[useChart] æ•°æ®æ£€æŸ¥: seriesCount=",g?.length,"hasData=",k),Array.isArray(g)&&g.length>0&&!k){console.log("[useChart] è·³è¿‡æ›´æ–°: æœ‰ series ä½†æ— æ•°æ®");return}try{console.log("[useChart] æ‰§è¡Œ setOption, seriesCount:",g?.length);const p=m(e);l.current.setOption(p,{notMerge:!0,lazyUpdate:!1,silent:!1}),console.log("[useChart] setOption å®Œæˆ")}catch(p){console.error("[useChart] setOption error:",p)}requestAnimationFrame(()=>{if(!a.current&&l.current)try{l.current.resize()}catch(p){console.debug("[useChart] resize error:",p)}})},[e,s,f,m,...t]),u.useEffect(()=>{if(!(a.current||!l.current))return l.current.off("click"),n&&l.current.on("click",n),()=>{l.current&&l.current.off("click")}},[n]),i},wa={indigo:{bg:"bg-indigo-500/20",text:"text-indigo-300",icon:"text-indigo-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-300",icon:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-300",icon:"text-cyan-400"},emerald:{bg:"bg-emerald-500/20",text:"text-emerald-300",icon:"text-emerald-400"}},ka=({selectedChannel:e,channelList:t,onSelect:s,isDark:n,accentColor:r="indigo"})=>{const[i,l]=u.useState(!1),a=u.useRef(null),c=u.useRef(null),d=wa[r];u.useEffect(()=>{const f=h=>{const g=h.target;i&&a.current&&!a.current.contains(g)&&c.current&&!c.current.contains(g)&&l(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[i]);const m=e==="all"?"å…¨éƒ¨æ¸ é“":e;return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{ref:a,onClick:()=>l(!i),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border text-xs font-medium transition-all duration-200 ${n?"bg-white/5 hover:bg-white/10 border-white/10 text-slate-300":"bg-black/5 hover:bg-black/10 border-black/10 text-slate-600"}`,children:[o.jsx(Bs,{size:12,className:d.icon}),o.jsx("span",{className:"max-w-[80px] truncate",children:m}),o.jsx(ct,{size:12,className:`text-slate-400 transition-transform ${i?"rotate-180":""}`})]}),i&&o.jsx("div",{ref:c,className:`absolute top-full right-0 mt-2 w-40 rounded-xl border shadow-2xl z-50 overflow-hidden animate-fade-in-up ${n?"bg-slate-900 border-white/10":"bg-white border-black/10"}`,children:o.jsxs("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:[o.jsxs("button",{onClick:()=>{s("all"),l(!1)},className:`w-full flex items-center justify-between px-4 py-2.5 text-xs transition-colors ${e==="all"?`${d.bg} ${d.text}`:n?"text-slate-300 hover:bg-white/5":"text-slate-600 hover:bg-black/5"}`,children:[o.jsx("span",{children:"å…¨éƒ¨æ¸ é“"}),e==="all"&&o.jsx(Ye,{size:12,className:d.icon})]}),t.map(f=>o.jsxs("button",{onClick:()=>{s(f),l(!1)},className:`w-full flex items-center justify-between px-4 py-2.5 text-xs transition-colors ${e===f?`${d.bg} ${d.text}`:n?"text-slate-300 hover:bg-white/5":"text-slate-600 hover:bg-black/5"}`,children:[o.jsx("span",{children:f}),e===f&&o.jsx(Ye,{size:12,className:d.icon})]},f))]})})]})},Da=({data:e,theme:t,onDateSelect:s,selectedDate:n,selectedDateRange:r})=>{const[i,l]=u.useState(!1),[a,c]=u.useState(null),[d,m]=u.useState(!1),{selectedStore:f,dateRange:h,selectedChannel:g,setSelectedChannel:N,channelList:k}=He(),p=t==="dark",y=p?"#64748b":"#94a3b8",O=p?"#fff":"#0f172a",S=p?"#94a3b8":"#64748b",j=p?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)";u.useEffect(()=>{(async()=>{if(!f){c(null);return}m(!0);try{const W={store_name:f,channel:g==="all"?void 0:g,granularity:"day"};h.type!=="all"&&h.start&&h.end?(W.start_date=h.start,W.end_date=h.end):W.days=30;const H=await Me.getTrend(W);H.success&&H.data&&c(H.data)}catch(W){console.error("èŽ·å–è¶‹åŠ¿æ•°æ®å¤±è´¥:",W)}finally{m(!1)}})()},[f,g,h.type,h.start,h.end]);const x=(v,W,H)=>{if(v.length===0)return[];const I=v.filter(D=>D>0);if(I.length===0)return[];const B=I.reduce((D,L)=>D+L,0)/I.length,M=I.reduce((D,L)=>D+Math.pow(L-B,2),0)/I.length,K=Math.sqrt(M),$=B-K,G=[];return v.forEach((D,L)=>{D<$&&D>0&&G.push({name:"Profit Rate Low",xAxis:W[L],yAxis:H[L],value:`${D.toFixed(1)}%`,itemStyle:{color:"#f43f5e"}})}),G},{categories:w,fullDates:E,values:_,anomalies:F,profitRates:R,avgValues:ee}=u.useMemo(()=>{if(a&&a.dates.length>0){const $=a.dates.map((ne,de)=>({date:ne.slice(5),fullDate:ne,revenue:a.amounts[de]||0,profit:a.profits[de]||0,orders:a.order_counts[de]||0,profitRate:a.profit_rates?.[de]||0,avgValue:a.avg_values?.[de]||0})),G=$.map(ne=>ne.profitRate),D=$.map(ne=>ne.avgValue),L=$.map(ne=>ne.date),J=$.map(ne=>ne.fullDate),re=$.map(ne=>ne.revenue),ye=x(G,L,re);return{categories:L,fullDates:J,values:$,anomalies:ye,profitRates:G,avgValues:D}}let v=[];e.length>0&&(v=e[0].dailyTrend.map(G=>({date:G.date,fullDate:G.date,revenue:0,profit:0,orders:0,profitRate:0,avgValue:0})),e.forEach(G=>{G.dailyTrend.forEach((D,L)=>{v[L]&&(v[L].revenue+=D.revenue,v[L].profit+=D.profit,v[L].orders+=D.orders)})}),v.forEach(G=>{G.profitRate=G.revenue>0?G.profit/G.revenue*100:0,G.avgValue=G.orders>0?G.revenue/G.orders:0}));const W=v.map($=>$.profitRate),H=v.map($=>$.avgValue),I=v.map($=>$.date),B=v.map($=>$.fullDate),M=v.map($=>$.revenue),K=x(W,I,M);return{categories:I,fullDates:B,values:v,anomalies:K,profitRates:W,avgValues:H}},[e,a]),se=u.useCallback(v=>{if(s&&v.dataIndex!==void 0){const W=w.length,H=E[v.dataIndex];n===H?s(null,void 0,W):s(H,v.dataIndex,W)}},[s,n,w.length,E]);u.useMemo(()=>Math.max(..._.map(v=>v.revenue),1e3),[_]);const A=u.useMemo(()=>{const v=_.map(J=>J.revenue),W=_.map(J=>J.profit),H=_.map(J=>J.orders),I=R,B=Math.max(...v,1e3),M=Math.max(...W,100),K=Math.ceil(M*3/100)*100,$=Math.max(...H,10),G=Math.ceil($*1.3/10)*10,D=Math.max(...I,10),L=Math.ceil(D*2.2/10)*10;return{revenueMax:B,profitMax:K,ordersMax:G,rateMax:Math.max(L,100)}},[_,R]),q={grid:{top:30,right:50,bottom:40,left:50,containLabel:!1},tooltip:{trigger:"axis",backgroundColor:p?"rgba(15, 23, 42, 0.9)":"rgba(255, 255, 255, 0.9)",borderColor:p?"rgba(255, 255, 255, 0.1)":"rgba(0,0,0,0.1)",padding:16,textStyle:{fontFamily:"JetBrains Mono",color:p?"#fff":"#0f172a"},axisPointer:{type:"cross",label:{backgroundColor:"#6366f1"},lineStyle:{type:"dashed",color:"#6366f1"}},formatter:v=>{if(!Array.isArray(v))return"";const W=v.filter(I=>I.seriesName!=="HitBox");if(W.length===0)return"";let H=`<div style="font-weight:bold;margin-bottom:8px">${W[0]?.axisValue}</div>`;return W.forEach(I=>{let B="";I.seriesName==="åˆ©æ¶¦çŽ‡"?B=`${I.value?.toFixed(1)}%`:I.seriesName==="è®¢å•æ•°"?B=`${I.value}`:B=`Â¥${(I.value||0).toLocaleString()}`,H+=`<div style="display:flex;justify-content:space-between;gap:16px">
            <span>${I.marker}${I.seriesName}</span>
            <span style="font-weight:bold">${B}</span>
          </div>`}),H}},legend:{data:["é”€å”®é¢","æ€»åˆ©æ¶¦","åˆ©æ¶¦çŽ‡","è®¢å•æ•°"],bottom:0,textStyle:{color:y,fontSize:10},itemGap:16,icon:"circle",itemWidth:10,itemHeight:10},xAxis:{type:"category",data:w,boundaryGap:!0,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:y,fontSize:10,fontFamily:"JetBrains Mono"}},yAxis:[{type:"value",name:"",splitLine:{lineStyle:{color:j,type:"dashed"}},axisLabel:{color:y,fontSize:10,formatter:v=>`Â¥${v/1e3}k`}},{type:"value",name:"",position:"right",min:0,max:A.rateMax,splitLine:{show:!1},axisLabel:{color:y,fontSize:10,formatter:"{value}%"}},{type:"value",name:"",position:"left",show:!1,splitLine:{show:!1},min:0,max:100},{type:"value",name:"",position:"left",show:!1,splitLine:{show:!1},min:0,max:A.profitMax},{type:"value",name:"",position:"left",show:!1,splitLine:{show:!1},min:0,max:A.ordersMax}],series:[{name:"HitBox",type:"bar",yAxisIndex:2,data:_.map(()=>100),barWidth:"80%",barGap:"-100%",z:10,itemStyle:{color:"transparent"},tooltip:{show:!1},silent:!1},{name:"è®¢å•æ•°",type:"bar",yAxisIndex:4,data:_.map(v=>{const W=r?v.fullDate>=r.start&&v.fullDate<=r.end:!1,H=n&&v.fullDate===n,I=W||H;return{value:v.orders,itemStyle:n||r?{borderRadius:[2,2,0,0],color:I?new Pe(0,0,0,1,[{offset:0,color:W?"#34d399":"#818cf8"},{offset:1,color:W?"#059669":"#6366f1"}]):new Pe(0,0,0,1,[{offset:0,color:p?"rgba(71, 85, 105, 0.2)":"rgba(71, 85, 105, 0.15)"},{offset:1,color:p?"rgba(51, 65, 85, 0.05)":"rgba(71, 85, 105, 0.02)"}]),shadowBlur:I?15:0,shadowColor:I?W?"rgba(52, 211, 153, 0.5)":"rgba(99, 102, 241, 0.5)":"transparent"}:{borderRadius:[2,2,0,0],color:new Pe(0,0,0,1,[{offset:0,color:p?"rgba(71, 85, 105, 0.55)":"rgba(71, 85, 105, 0.35)"},{offset:1,color:p?"rgba(51, 65, 85, 0.15)":"rgba(71, 85, 105, 0.05)"}])}}}),emphasis:{itemStyle:{color:new Pe(0,0,0,1,[{offset:0,color:p?"rgba(148, 163, 184, 0.95)":"rgba(100, 116, 139, 0.7)"},{offset:1,color:p?"rgba(100, 116, 139, 0.4)":"rgba(100, 116, 139, 0.2)"}]),shadowColor:p?"rgba(148, 163, 184, 0.4)":"rgba(100, 116, 139, 0.3)",shadowBlur:12}},barWidth:"60%",barGap:"-100%",z:1},{name:"æ€»åˆ©æ¶¦",type:"line",smooth:.4,symbol:"none",showSymbol:!1,yAxisIndex:3,itemStyle:{color:"#22c55e"},lineStyle:{width:2.5,color:"#22c55e",opacity:n?.3:1,shadowColor:"rgba(34, 197, 94, 0.7)",shadowBlur:10,shadowOffsetY:-4},emphasis:{focus:"series",itemStyle:{color:"#22c55e",borderColor:"#fff",borderWidth:2},lineStyle:{width:3,shadowBlur:14,shadowOffsetY:-5}},data:_.map(v=>v.profit),z:2},{name:"åˆ©æ¶¦çŽ‡",type:"line",smooth:.4,symbol:"none",showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#fbbf24"},lineStyle:{width:2,color:"#fbbf24",type:[5,5],opacity:n?.3:1},emphasis:{focus:"series",itemStyle:{color:"#fbbf24",borderColor:"#fff",borderWidth:2},lineStyle:{width:2.5,type:"solid"}},data:R,z:3},{name:"é”€å”®é¢",type:"line",smooth:.4,symbol:"none",showSymbol:!1,yAxisIndex:0,itemStyle:{color:p?"#f8fafc":"#334155"},lineStyle:{width:3,color:p?"#f8fafc":"#334155",opacity:n?.3:1,shadowColor:p?"rgba(255, 255, 255, 0.8)":"rgba(51, 65, 85, 0.5)",shadowBlur:20,shadowOffsetY:0},areaStyle:{opacity:n?.05:.2,color:new Pe(0,0,0,1,[{offset:0,color:"rgba(74, 144, 226, 0.3)"},{offset:1,color:"rgba(74, 144, 226, 0.05)"}])},emphasis:{focus:"series",itemStyle:{color:"#fff",borderColor:"#818cf8",borderWidth:2,shadowColor:"rgba(129, 140, 248, 0.5)",shadowBlur:10},lineStyle:{width:4}},data:_.map(v=>v.revenue),markPoint:i&&F.length>0?{data:F.filter(v=>v.xAxis!==void 0&&v.yAxis!==void 0&&!isNaN(v.yAxis)).map(v=>({name:v.name,coord:[v.xAxis,v.yAxis],itemStyle:v.itemStyle})),symbol:"pin",symbolSize:40,label:{show:!0,fontSize:8,formatter:"!"},animation:!0,animationDuration:800,animationEasing:"elasticOut"}:void 0,z:3}]},te=va(q,[e,i,t,a,g,n,r,A],t,se);return o.jsxs("div",{className:`glass-panel rounded-2xl p-6 h-full flex flex-col relative overflow-hidden group transition-all duration-300 ${n?"border-indigo-500/50 shadow-[0_0_30px_rgba(99,102,241,0.15)]":""}`,children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-b from-indigo-500/5 to-transparent pointer-events-none"}),o.jsxs("div",{className:"mb-2 flex justify-between items-start relative z-10",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",style:{color:O},children:[o.jsx("span",{className:"w-1 h-5 bg-gradient-to-b from-indigo-400 to-indigo-600 rounded-full shadow-[0_0_10px_#818cf8]"}),"é”€å”®è¶‹åŠ¿åˆ†æž",n&&o.jsx("span",{className:"text-xs bg-indigo-500 text-white px-2 py-0.5 rounded-md font-mono ml-2",children:n.slice(5)})]}),o.jsxs("p",{className:"text-xs mt-1 font-mono uppercase tracking-widest opacity-70 flex items-center gap-1",style:{color:S},children:[g==="all"?"å…¨éƒ¨æ¸ é“":g," Â· å«åˆ©æ¶¦çŽ‡",s&&o.jsx("span",{className:"ml-2 text-indigo-400",children:"| ç‚¹å‡»æŸ±å­ä¸‹é’»"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ka,{selectedChannel:g,channelList:k,onSelect:N,isDark:p}),o.jsxs("button",{onClick:()=>l(!i),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border text-xs font-medium transition-all duration-300 ${i?"bg-rose-500/10 border-rose-500/30 text-rose-300 shadow-[0_0_15px_rgba(244,63,94,0.2)]":p?"bg-slate-800/50 border-white/5 text-slate-400 hover:text-white":"bg-white/50 border-black/5 text-slate-600 hover:text-slate-900"}`,children:[i?o.jsx(dt,{size:14,className:"animate-pulse"}):o.jsx(dt,{size:14}),i?"å¼‚å¸¸ ON":"å¼‚å¸¸ OFF"]})]})]}),d&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 z-20 rounded-2xl",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}),o.jsx("div",{className:"flex-1 w-full min-h-[350px] relative cursor-pointer",children:o.jsx("div",{ref:te,className:"absolute inset-0 w-full h-full"})})]})},Na=({data:e,onLocate:t,activeFocus:s})=>{const[n,r]=u.useState(null),[i,l]=u.useState(!1);return u.useEffect(()=>{l(!0);const a=setTimeout(()=>{r({summary:"æ£€æµ‹åˆ°å¤–å–æ¸ é“è¥é”€æˆæœ¬è¿‡é«˜ï¼Œæ‹–ç´¯æ•´ä½“åˆ©æ¶¦ã€‚å»ºè®®ä¼˜åŒ–æ»¡å‡ç­–ç•¥ã€‚",costProblem:"é¥¿äº†ä¹ˆæ¸ é“è¥é”€è¡¥è´´å æ¯”è¾¾ 20%ï¼Œå»ºè®®ç¼©å‡æ»¡å‡åŠ›åº¦ã€‚",timeOpportunity:"åˆé«˜å³° (11:00-13:00) è®¢å•å¯†é›†ä½†è¶…æ—¶ä¸¥é‡ï¼Œå»ºè®®å¢žåŠ è¿åŠ›è°ƒåº¦ã€‚",actionSuggestion:"ç«‹å³å¤ç›˜è·ç¦»åœ¨ 3km+ çš„è®¢å•æ¯›åˆ©ï¼Œè€ƒè™‘ç¼©å°é…é€èŒƒå›´ã€‚"}),l(!1)},1e3);return()=>clearTimeout(a)},[e.lastUpdated]),i?o.jsxs("div",{className:"w-full h-full glass-panel border-neon-purple/30 rounded-2xl flex flex-col items-center justify-center animate-pulse gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-neon-purple/30 border-t-neon-purple animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(Ls,{size:20,className:"text-neon-purple animate-pulse"})})]}),o.jsx("p",{className:"text-neon-purple font-mono text-xs tracking-widest",children:"AI NEURAL ENGINE PROCESSING..."})]}):n?o.jsxs("div",{className:"w-full h-full glass-panel rounded-2xl p-[1px] relative overflow-hidden group flex flex-col shadow-[0_0_30px_rgba(124,58,237,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-purple via-neon-cyan to-transparent opacity-30 group-hover:opacity-60 transition-opacity duration-1000 blur-lg"}),o.jsxs("div",{className:"bg-slate-950/90 backdrop-blur-xl rounded-xl p-6 relative z-10 flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/10 pb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1.5 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg shadow-lg shadow-purple-500/20",children:o.jsx(on,{size:18,className:"text-white fill-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-bold text-white tracking-wide leading-tight",children:"AI å†³ç­–å¤§è„‘"}),o.jsx("p",{className:"text-[11px] text-slate-400 font-mono",children:"CLICK TO LOCATE ISSUES"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] text-neon-green font-mono",children:"ACTIVE"}),o.jsx("div",{className:"h-2 w-2 bg-neon-green rounded-full shadow-[0_0_10px_#4ade80] animate-pulse"})]})]}),o.jsxs("div",{className:"mb-6 relative",children:[o.jsx("div",{className:"absolute -left-2 top-0 bottom-0 w-1 bg-gradient-to-b from-neon-purple to-transparent rounded-full opacity-50"}),o.jsxs("p",{className:"pl-4 text-lg font-medium text-white leading-relaxed italic",children:['"',n.summary,'"']})]}),o.jsxs("div",{className:"flex-1 flex flex-col gap-3 overflow-y-auto pr-1 custom-scrollbar",children:[o.jsx(it,{icon:o.jsx(Ys,{size:14,className:s==="cost"?"text-white":"text-neon-rose"}),tag:"æˆæœ¬æ£€æµ‹",value:n.costProblem,color:"rose",onClick:()=>t&&t("cost"),isActive:s==="cost"}),o.jsx(it,{icon:o.jsx(Vs,{size:14,className:s==="efficiency"?"text-white":"text-neon-yellow"}),tag:"æ•ˆçŽ‡è¯Šæ–­",value:n.timeOpportunity,color:"yellow",onClick:()=>t&&t("efficiency"),isActive:s==="efficiency"}),o.jsx(it,{icon:o.jsx(rn,{size:14,className:s==="profit"?"text-white":"text-neon-green"}),tag:"å¢žé•¿å»ºè®®",value:n.actionSuggestion,color:"green",onClick:()=>t&&t("profit"),isActive:s==="profit"})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex justify-between items-center text-xs text-slate-400 group/btn cursor-pointer hover:text-white transition-colors",children:[o.jsx("span",{className:"font-mono",children:"GENERATE_REPORT.PDF"}),o.jsx(ht,{size:14,className:"group-hover/btn:translate-x-1 transition-transform"})]})]})]}):null},it=({icon:e,tag:t,value:s,color:n,onClick:r,isActive:i})=>{const l={rose:"hover:bg-rose-500/10 hover:border-rose-500/40",yellow:"hover:bg-yellow-500/10 hover:border-yellow-500/40",green:"hover:bg-emerald-500/10 hover:border-emerald-500/40"},a={rose:"text-rose-400 bg-rose-500/10 border-rose-500/20",yellow:"text-yellow-400 bg-yellow-500/10 border-yellow-500/20",green:"text-emerald-400 bg-emerald-500/10 border-emerald-500/20"},c={rose:"bg-rose-500 border-rose-400 shadow-[0_0_20px_rgba(244,63,94,0.3)]",yellow:"bg-yellow-500 border-yellow-400 shadow-[0_0_20px_rgba(250,204,21,0.3)]",green:"bg-emerald-500 border-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.3)]"};return o.jsxs("button",{onClick:r,className:`relative p-3.5 rounded-xl border text-left transition-all duration-300 group/item flex flex-col gap-2 outline-none
        ${i?`${c[n]} scale-[1.02] z-10 border-transparent`:`border-white/5 bg-white/[0.02] ${l[n]} hover:scale-[1.01]`}
      `,children:[o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{className:`flex items-center gap-2 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${i?"bg-white/20 text-white border-transparent":a[n]}`,children:[e,t]}),i?o.jsx(dt,{size:14,className:"text-white animate-pulse"}):o.jsx(Hs,{size:14,className:"text-slate-600 group-hover/item:text-white transition-colors opacity-0 group-hover/item:opacity-100"})]}),o.jsx("p",{className:`text-xs leading-relaxed transition-colors ${i?"text-white/95 font-medium":"text-slate-400 group-hover/item:text-slate-200"}`,children:s})]})},Ma=({onCommand:e,isProcessing:t})=>{const[s,n]=u.useState(""),[r,i]=u.useState(!1),l=a=>{a.preventDefault(),s.trim()&&(e(s),n(""))};return o.jsxs("div",{className:`relative w-full max-w-2xl mx-auto transition-all duration-300 z-50 ${r?"scale-105":"scale-100"}`,children:[o.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-2xl blur opacity-25 transition-opacity duration-500 ${r?"opacity-75":"opacity-25"}`}),o.jsxs("form",{onSubmit:l,className:"relative glass-panel rounded-xl p-1 flex items-center gap-2 shadow-2xl",children:[o.jsx("div",{className:"pl-3 text-neon-purple",children:o.jsx(on,{size:20,className:t?"animate-spin":""})}),o.jsx("input",{type:"text",value:s,onChange:a=>n(a.target.value),onFocus:()=>i(!0),onBlur:()=>i(!1),placeholder:t?"AI æ­£åœ¨åˆ†æžæ•°æ®...":"Ask AI: 'Show me coffee sales from last weekend'...",className:"flex-1 bg-transparent border-none outline-none text-white placeholder-slate-400 h-10 px-2 font-mono text-sm",disabled:t}),o.jsxs("div",{className:"hidden md:flex items-center gap-1.5 px-2 py-1 bg-white/5 rounded text-[10px] text-slate-500 font-mono border border-white/5",children:[o.jsx(Us,{size:10}),o.jsx("span",{children:"K"})]}),o.jsx("button",{type:"submit",disabled:!s.trim()||t,className:"p-2 rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o.jsx(Gs,{size:16})})]})]})},Sa=()=>{const[e,t]=u.useState(!1);return u.useEffect(()=>{let s=0,n=performance.now(),r=0,i;const l=()=>{const a=performance.now();if(s++,a-n>=1e3){if(s<35?r++:r=0,r>=3){t(!0);return}s=0,n=a}i=requestAnimationFrame(l)};return i=requestAnimationFrame(l),()=>cancelAnimationFrame(i)},[]),e};var Ee=(e=>(e.MEITUAN="ç¾Žå›¢å¤–å–",e.ELEME="é¥¿äº†ä¹ˆ",e.DOUYIN="æŠ–éŸ³å›¢è´­",e.OFFLINE="çº¿ä¸‹é—¨åº—",e.PRIVATE_DOMAIN="ç§åŸŸå°ç¨‹åº",e))(Ee||{});const ja=(e,t)=>Array.from({length:24},(n,r)=>`${r.toString().padStart(2,"0")}:00`).map((n,r)=>{let i=.5;r>=11&&r<=13&&(i=2.5),r>=17&&r<=19&&(i=2);const l=Math.floor(e/30*i*(.8+Math.random()*.4));return{hour:n,orders:l,revenue:l*45,deliveryCost:l*t*(r>=11&&r<=13?1.2:1)}}),Ca=e=>[{range:"0-1km",orders:Math.floor(e*.4),avgDeliveryCost:3.5},{range:"1-3km",orders:Math.floor(e*.45),avgDeliveryCost:5.8},{range:"3km+",orders:Math.floor(e*.15),avgDeliveryCost:9.2}],Oa=(e,t,s)=>{const n=[],r=new Date,i=e/30,l=t/30;for(let a=29;a>=0;a--){const c=new Date(r);c.setDate(c.getDate()-a);const m=c.getDay()===0||c.getDay()===6?1.2:.9,f=.8+Math.random()*.4,h=Math.floor(i*m*f),g=Math.floor(h*(s+(Math.random()-.5)*.1));n.push({date:c.toISOString().split("T")[0].slice(5),revenue:h,profit:g,orders:Math.floor(l*m*f)})}return n},_a=e=>{const t=[{name:"çŽ°ç£¨å’–å•¡",items:["ç”Ÿæ¤°æ‹¿é“","å†°ç¾Žå¼","ç„¦ç³–çŽ›å¥‡æœµ","ç‡•éº¦æ‹¿é“","Dirtyè„å’–","å¡å¸ƒå¥‡è¯º","æ¾³ç™½","æ„å¼æµ“ç¼©"],baseMargin:.65},{name:"äººæ°”çƒ­é£Ÿ",items:["è€å›é…¸èœé±¼","å°ç‚’é»„ç‰›è‚‰","éº»å©†è±†è…","çº¢çƒ§è‚‰","å®«ä¿é¸¡ä¸","é±¼é¦™è‚‰ä¸","ç•ªèŒ„ç‚’è›‹","æ¢…èœæ‰£è‚‰","å¤§ç›˜é¸¡"],baseMargin:.35},{name:"è¶…å€¼å¥—é¤",items:["å•äººå·¥ä½œé¤","åŒäººåˆ†äº«æ¡¶","å…¨å®¶ç¦å¥—é¤","å•†åŠ¡ä¼šè®®é¤","æƒ…ä¾£çº¦ä¼šé¤"],baseMargin:.25},{name:"çƒ˜ç„™ç”œç‚¹",items:["ææ‹‰ç±³è‹","çº½çº¦èŠå£«","çº¢ä¸ç»’","é»‘æ£®æž—","æ¦´èŽ²åƒå±‚","è›‹æŒž(3åª)","è èåŒ…"],baseMargin:.55}];let s=[];return t.forEach(n=>{n.items.forEach(r=>{const i=Math.random()*.1+.01,l=Math.floor(e*.25*i),a=n.baseMargin+(Math.random()*.2-.1),c=Math.floor(l*a),d=Math.floor(l/(30+Math.random()*20));s.push({name:`${n.name}|${r}`,revenue:l,cost:l-c,profit:c,grossMargin:a,orderCount:d,soldOutCount:0,slowMovingCount:0,inventoryTurnover:0})})}),s.sort((n,r)=>r.revenue-n.revenue).slice(0,50)},Ea=(e,t)=>["0-20","20-40","40-60","60-80","80-100","100+"].map(n=>{let r=.1;return t<30&&n==="20-40"&&(r=.5),t>=30&&n==="40-60"&&(r=.4),{range:n,count:Math.floor(e*r*(.8+Math.random()*.4))}}),Wa=e=>({itemDiscount:e*.3,thresholdDiscount:e*.4,vouchers:e*.2,other:e*.1}),Ta=e=>{const t=e/30,s=[],n=new Date;for(let r=6;r>=0;r--){const i=new Date(n);i.setDate(i.getDate()-r);const a=i.getDay()===0||i.getDay()===6?1.3:.9,c=t*a*(.9+Math.random()*.2);s.push({date:i.toISOString().split("T")[0].slice(5),itemDiscount:Math.floor(c*.3),thresholdDiscount:Math.floor(c*.4),vouchers:Math.floor(c*.2),other:Math.floor(c*.1)})}return s},ze=(e,t,s,n,r,i,l,a)=>{const c=s*r,d=s*i,m=s*l,f=n*a,h=c+d+m+f,g=s-h,N=g/s;return{id:e,name:t,revenue:s,costs:{cogs:c,marketing:d,delivery:f,commission:m},marketingDetails:Wa(d),marketingTrend:Ta(d),totalCost:h,profit:g,marketingRate:d/s,profitMargin:N,orderCount:n,avgOrderValue:s/n,avgDeliveryCost:f/n,hourlyData:ja(n,a),distanceData:Ca(n),dailyTrend:Oa(s,n,N),categoryPerformance:_a(s),aovDistribution:Ea(n,s/n)}},Ia=()=>{const e=[ze("1",Ee.MEITUAN,45e4,11250,.35,.15,.18,6.5),ze("2",Ee.ELEME,38e4,9500,.35,.2,.16,6.2),ze("3",Ee.DOUYIN,6e5,15e3,.35,.25,.05,1.5),ze("4",Ee.OFFLINE,55e4,13750,.35,.02,.01,0),ze("5",Ee.PRIVATE_DOMAIN,2e5,4e3,.35,.05,.02,5)],t=e.reduce((r,i)=>r+i.revenue,0),s=e.reduce((r,i)=>r+i.profit,0),n=e.reduce((r,i)=>r+i.orderCount,0);return{totalRevenue:t,totalProfit:s,totalOrders:n,channels:e,lastUpdated:new Date().toLocaleString()}},Pa=b.lazy(()=>oe(()=>import("./ProfitChart-n3p7Z4wX.js"),__vite__mapDeps([6,1,4,3,2]))),za=b.lazy(()=>oe(()=>import("./CostEfficiencyChart-CJM8bcau.js"),__vite__mapDeps([7,1,4,3,2]))),Ra=b.lazy(()=>oe(()=>import("./CategoryAnalysisChart-7Uq-X5Nj.js"),__vite__mapDeps([8,1,2,3,4]))),Aa=b.lazy(()=>oe(()=>import("./MarketingCostChart-BtUFwr9g.js"),__vite__mapDeps([9,1,3,2,4]))),$a=b.lazy(()=>oe(()=>import("./DeliveryHeatmap-D93wUt9u.js"),__vite__mapDeps([10,1,4,2,3]))),Fa=b.lazy(()=>oe(()=>import("./MarketingTrendChart-Ba0rdVoX.js"),__vite__mapDeps([11,1,3,2,4]))),Ba=b.lazy(()=>oe(()=>import("./ProfitSimulator-CAuN2L_f.js"),__vite__mapDeps([12,1,2,3,4]))),La=b.lazy(()=>oe(()=>import("./DataTable-CHfN9u_Z.js"),__vite__mapDeps([13,1,2,3,4]))),Ya=b.lazy(()=>oe(()=>import("./CategoryTrendChart-BYPCiqKG.js"),__vite__mapDeps([14,1,2,3,4]))),Va=b.lazy(()=>oe(()=>import("./TopProductsChart-C3v63bTd.js"),__vite__mapDeps([15,1,4,2,3]))),Ha=b.lazy(()=>oe(()=>import("./CategoryHealthTable-Dvv9c4rW.js"),__vite__mapDeps([16,1,2,3,4]))),Ua=b.lazy(()=>oe(()=>import("./DistanceAnalysisChart-Cymkj-6M.js"),__vite__mapDeps([17,1,4,3,2]))),Ga=b.lazy(()=>oe(()=>import("./DataManagement-BR6ARE7P.js"),__vite__mapDeps([0,1,2,3,4]))),qa=b.lazy(()=>oe(()=>import("./StoreComparisonView-CstxEvfd.js"),__vite__mapDeps([5,1,2,3,4]))),ue=({height:e=400})=>o.jsx("div",{className:"glass-panel rounded-2xl flex items-center justify-center animate-pulse",style:{height:e},children:o.jsx("div",{className:"text-slate-500 text-sm",children:"å›¾è¡¨åŠ è½½ä¸­..."})}),Be=({onExit:e})=>o.jsx("div",{className:"absolute top-4 right-4 z-[70] animate-fade-in-up",children:o.jsxs("button",{onClick:t=>{t.stopPropagation(),e()},className:"group flex items-center gap-2 pl-2 pr-2 py-1.5 bg-slate-800/80 backdrop-blur-md text-white border border-white/20 rounded-lg hover:bg-slate-700 transition-all duration-200 shadow-lg",children:[o.jsx("span",{className:"text-[10px] font-mono font-bold tracking-wider text-slate-300 group-hover:text-white",children:"MINIMIZE"}),o.jsx(an,{size:14,className:"text-indigo-400 group-hover:text-indigo-300"})]})}),Ka=b.lazy(()=>oe(()=>import("./Skeleton-CrcO3amV.js"),__vite__mapDeps([18,1,3,2,4])).then(e=>({default:e.DashboardSkeleton}))),Za=()=>o.jsxs("div",{className:"min-h-screen bg-slate-950 p-8 grid grid-cols-12 gap-6 animate-pulse",children:[o.jsx("div",{className:"col-span-12 h-20 bg-white/5 rounded-xl"}),[...Array(6)].map((e,t)=>o.jsx("div",{className:"col-span-6 lg:col-span-2 h-32 bg-white/5 rounded-2xl"},t)),o.jsx("div",{className:"col-span-12 xl:col-span-8 h-[550px] bg-white/5 rounded-2xl"}),o.jsx("div",{className:"col-span-12 xl:col-span-4 h-[550px] bg-white/5 rounded-2xl"})]});function Xa({theme:e}){const[t,s]=u.useState(null),[n,r]=u.useState(null),[i,l]=u.useState(!1),[a,c]=u.useState([]),[d,m]=u.useState(!1),[f,h]=u.useState(null),[g,N]=u.useState(!1),[k,p]=u.useState(null),[y,O]=u.useState(null),[S,j]=u.useState(void 0),[x,w]=u.useState(null),[E,_]=u.useState(30),[F,R]=u.useState(null),[ee,se]=u.useState("all"),{orderOverview:A,orderComparison:q,orderOverviewLoading:te,dateRange:v,selectedStore:W,selectedChannel:H}=He(),I=Sa(),B=u.useRef(null),M=u.useRef(null),K=u.useRef(null),$=u.useRef(null),G=u.useRef(null),D=u.useCallback(async()=>{if(!W){c([]);return}m(!0);try{const P={store_name:W};v.type!=="all"&&v.start&&v.end&&(P.start_date=v.start,P.end_date=v.end);const X=await Me.getMarketingStructure(P);X.success&&X.data.channels.length>0?c(X.data.channels):c([])}catch(P){console.error("èŽ·å–è¥é”€æˆæœ¬ç»“æž„æ•°æ®å¤±è´¥:",P),c([])}finally{m(!1)}},[W,v.type,v.start,v.end]);u.useEffect(()=>{D()},[D]);const L=u.useCallback(async()=>{if(console.log("ðŸ“ˆ fetchMarketingTrend è°ƒç”¨, selectedStore:",W),!W){console.log("ðŸ“ˆ æœªé€‰æ‹©é—¨åº—ï¼Œè·³è¿‡è¥é”€è¶‹åŠ¿æ•°æ®åŠ è½½"),h(null);return}N(!0),p(null);try{const P={store_name:W};ee&&ee!=="all"&&(P.channel=ee),v.type!=="all"&&v.start&&v.end&&(P.start_date=v.start,P.end_date=v.end),console.log("ðŸ“ˆ è¥é”€è¶‹åŠ¿è¯·æ±‚å‚æ•°:",P);const X=await Me.getMarketingTrend(P);console.log("ðŸ“ˆ è¥é”€è¶‹åŠ¿APIå“åº”:",X),X.success&&X.data.dates.length>0?(console.log("ðŸ“ˆ è¥é”€è¶‹åŠ¿æ•°æ®åŠ è½½æˆåŠŸ, æ—¥æœŸæ•°:",X.data.dates.length),h(X.data),p(null)):(console.log("ðŸ“ˆ è¥é”€è¶‹åŠ¿æ•°æ®ä¸ºç©º"),h(null))}catch(P){console.error("ðŸ“ˆ èŽ·å–è¥é”€æˆæœ¬è¶‹åŠ¿æ•°æ®å¤±è´¥:",P),p("æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•")}finally{N(!1)}},[W,ee,v.type,v.start,v.end]);u.useEffect(()=>{L()},[L]),u.useEffect(()=>{const P=setTimeout(()=>{const X=Ia();s(X)},100);return()=>clearTimeout(P)},[v]),u.useEffect(()=>{n?document.body.classList.add("has-focus"):document.body.classList.remove("has-focus")},[n]),u.useEffect(()=>{const P=X=>{X.key==="Escape"&&r(null)};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[]);const J=u.useCallback((P,X,he)=>{if(he!==void 0&&_(he),P===null){O(null),j(void 0),w(null);return}if(x){w(null),O(P),j(X);return}if(y&&X!==void 0){if(y===P){O(null),j(void 0);return}const je=y<P?y:P,qe=y<P?P:y,Ke=y<P?S:X,Ze=y<P?X:S;w({start:je,end:qe,startIndex:Ke,endIndex:Ze}),O(null),j(void 0);return}O(P),j(X)},[y,S,x]),re=u.useCallback((P,X,he,je)=>{console.log("ðŸ“Š è·ç¦»åŒºé—´é€‰ä¸­:",P,X,he,"-",je,"km"),R(P===-1?null:{minDistance:he,maxDistance:je})},[]),ye=async P=>{l(!0),await new Promise(X=>setTimeout(X,1500)),l(!1),console.log("AI Command:",P)},ne=P=>{if(n===P){r(null);return}r(P);const he={trend:B,efficiency:M,cost:K,profit:$}[P];he?.current&&setTimeout(()=>he.current?.scrollIntoView({behavior:"smooth",block:"center"}),100)},de=P=>n===P?"is-focused relative":"",De=u.useMemo(()=>t||null,[t]);return De?o.jsxs("div",{className:"flex flex-col gap-6 relative z-10 w-full transition-all duration-500",children:[o.jsxs("div",{className:`flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4 animate-fade-in-up transition-opacity duration-500 ${n?"opacity-20 blur-sm pointer-events-none":"opacity-100"}`,children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-tight",children:"è¿è¥è¯Šæ–­ä¸­å¿ƒ"}),o.jsxs("p",{className:"text-slate-400 text-xs mt-1 font-mono opacity-60 flex items-center gap-2",children:["SYSTEM: ONLINE",I&&o.jsxs("span",{className:"text-neon-yellow flex items-center gap-1",children:[o.jsx(nn,{size:10})," LITE"]})]})]}),o.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full xl:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto flex-1",children:o.jsx(Ma,{onCommand:ye,isProcessing:i})})})]}),o.jsxs("div",{className:"grid grid-cols-12 gap-6 w-full pb-12",children:[o.jsx("div",{className:"col-span-6 lg:col-span-2 animate-fade-in-up stagger-1",children:o.jsx(Ne,{title:"è®¢å•æ€»æ•°",value:A?A.total_orders.toLocaleString():"-",change:q?.changes?.order_count,subtext:"çŽ¯æ¯”",icon:o.jsx(qs,{size:18}),iconColor:"indigo",theme:e,loading:te,compact:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-2 animate-fade-in-up stagger-2",children:o.jsx(Ne,{title:"å•†å“å®žæ”¶é¢",value:A?`Â¥${A.total_actual_sales.toLocaleString()}`:"-",change:q?.changes?.total_sales,subtext:"çŽ¯æ¯”",icon:o.jsx(Nt,{size:18}),iconColor:"cyan",theme:e,loading:te,compact:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-2 animate-fade-in-up stagger-3",children:o.jsx(Ne,{title:"æ€»åˆ©æ¶¦",value:A?`Â¥${A.total_profit.toLocaleString()}`:"-",change:q?.changes?.total_profit,subtext:"çŽ¯æ¯”",icon:o.jsx(Ks,{size:18}),iconColor:"emerald",trendColor:(q?.changes?.total_profit??0)<0?"red":"green",theme:e,loading:te,compact:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-2 animate-fade-in-up stagger-4",children:o.jsx(Ne,{title:"å¹³å‡å®¢å•ä»·",value:A?`Â¥${A.avg_order_value.toFixed(1)}`:"-",change:q?.changes?.avg_order_value,subtext:"çŽ¯æ¯”",icon:o.jsx(sn,{size:18}),iconColor:"amber",theme:e,loading:te,compact:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-2 animate-fade-in-up stagger-5",children:o.jsx(Ne,{title:"æ€»åˆ©æ¶¦çŽ‡",value:A?`${A.profit_rate.toFixed(1)}%`:"-",change:q?.changes?.profit_rate,subtext:"çŽ¯æ¯”(ç™¾åˆ†ç‚¹)",icon:o.jsx(Mt,{size:18}),iconColor:"violet",trendColor:(q?.changes?.profit_rate??0)<0?"red":"green",theme:e,loading:te,compact:!0,isPercentChange:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-2 animate-fade-in-up stagger-6",children:o.jsx(Ne,{title:"åŠ¨é”€å•†å“æ•°",value:A?A.active_products.toLocaleString():"-",change:q?.changes?.active_products,subtext:"çŽ¯æ¯”",icon:o.jsx(Zs,{size:18}),iconColor:"rose",theme:e,loading:te,compact:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-3 animate-fade-in-up stagger-7",children:o.jsx(Ne,{title:"è¥ä¸šé¢(GMV)",value:A?.gmv?`Â¥${A.gmv.toLocaleString()}`:"-",subtext:"å•†å“åŽŸä»·Ã—é”€é‡+æ‰“åŒ…è´¹+é…é€è´¹",icon:o.jsx(Nt,{size:18}),iconColor:"orange",theme:e,loading:te,compact:!0})}),o.jsx("div",{className:"col-span-6 lg:col-span-3 animate-fade-in-up stagger-8",children:o.jsx(Ne,{title:"è¥é”€æˆæœ¬çŽ‡",value:A?.marketing_cost_rate!==void 0?`${A.marketing_cost_rate.toFixed(2)}%`:"-",subtext:A?.marketing_cost?`è¥é”€æˆæœ¬: Â¥${A.marketing_cost.toLocaleString()}`:"è¥é”€æˆæœ¬/GMV",icon:o.jsx(Mt,{size:18}),iconColor:"pink",trendColor:(A?.marketing_cost_rate??0)>15?"red":"green",theme:e,loading:te,compact:!0})}),o.jsxs("div",{ref:B,className:`col-span-12 xl:col-span-8 h-[550px] animate-fade-in-up stagger-7 ${de("trend")}`,children:[n==="trend"&&o.jsx(Be,{onExit:()=>r(null)}),o.jsx(Da,{data:De.channels,theme:e,onDateSelect:J,selectedDate:y,selectedDateRange:x?{start:x.start,end:x.end}:void 0})]}),o.jsx("div",{className:"col-span-12 xl:col-span-4 h-[550px] animate-fade-in-up stagger-8 z-30",children:o.jsx(Na,{data:De,onLocate:ne,activeFocus:n})}),(y||x)&&o.jsxs("div",{className:"col-span-12 xl:col-span-8 relative h-10 -mt-4 -mb-2 z-0 animate-fade-in-up",children:[y&&!x&&o.jsxs("div",{className:"absolute flex flex-col items-center text-indigo-400 transition-all duration-300",style:{left:S!==void 0?`calc(50px + ${(S+.5)/E*85}%)`:"50%",transform:"translateX(-50%)"},children:[o.jsx("div",{className:"h-6 w-0.5 bg-gradient-to-b from-indigo-500/0 via-indigo-500 to-indigo-500"}),o.jsxs("div",{className:"px-3 py-1 bg-indigo-500/10 border border-indigo-500/30 rounded-full text-[10px] font-mono flex items-center gap-2 whitespace-nowrap",children:[o.jsx(St,{size:10})," ç‚¹å‡»å¦ä¸€æ—¥æœŸå½¢æˆèŒƒå›´ | ",y?.slice(5)]})]}),x&&o.jsxs("div",{className:"absolute flex flex-col items-center text-emerald-400 transition-all duration-300",style:{left:`calc(50px + ${(x.startIndex+x.endIndex+1)/2/E*85}%)`,transform:"translateX(-50%)"},children:[o.jsx("div",{className:"h-6 w-0.5 bg-gradient-to-b from-emerald-500/0 via-emerald-500 to-emerald-500"}),o.jsxs("div",{className:"px-3 py-1 bg-emerald-500/10 border border-emerald-500/30 rounded-full text-[10px] font-mono flex items-center gap-2 whitespace-nowrap",children:[o.jsx(St,{size:10})," æ—¥æœŸèŒƒå›´: ",x.start.slice(5)," ~ ",x.end.slice(5)]})]})]}),(y||x)&&o.jsx("div",{className:"hidden xl:block xl:col-span-4"}),o.jsxs("div",{ref:G,className:`col-span-12 grid grid-cols-12 gap-6 transition-all duration-500 ${y||x?"bg-indigo-900/5 p-4 rounded-3xl border border-indigo-500/10":""}`,children:[o.jsx("div",{className:"col-span-12 lg:col-span-6 h-[400px] animate-fade-in-up stagger-2",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:400}),children:o.jsx(Ya,{selectedDate:y,selectedDateRange:x?{start:x.start,end:x.end}:void 0,theme:e})})}),o.jsx("div",{className:"col-span-12 lg:col-span-6 h-[400px] animate-fade-in-up stagger-2",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:400}),children:o.jsx(Va,{selectedDate:y,selectedDateRange:x?{start:x.start,end:x.end}:void 0,theme:e})})})]}),o.jsxs("div",{ref:M,className:`col-span-12 xl:col-span-6 h-[450px] animate-enter stagger-7 ${de("efficiency")}`,children:[n==="efficiency"&&o.jsx(Be,{onExit:()=>r(null)}),o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:o.jsx(za,{storeName:W||void 0,channel:H==="all"?void 0:H,theme:e,selectedDate:y,selectedDateRange:x?{start:x.start,end:x.end}:void 0})})]}),o.jsx("div",{className:"col-span-12 xl:col-span-6 h-[450px] animate-enter stagger-8",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:o.jsx(Ua,{storeName:W||void 0,channel:H==="all"?void 0:H,theme:e,selectedDate:y,selectedDateRange:x?{start:x.start,end:x.end}:void 0,onDistanceBandSelect:re})})}),o.jsxs("div",{ref:K,className:`col-span-12 lg:col-span-6 h-[450px] animate-enter stagger-8 ${de("cost")}`,children:[n==="cost"&&o.jsx(Be,{onExit:()=>r(null)}),o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:d?o.jsx("div",{className:"glass-panel rounded-2xl p-6 h-full flex items-center justify-center",children:o.jsx("div",{className:"text-slate-400 text-sm",children:"åŠ è½½è¥é”€æˆæœ¬æ•°æ®ä¸­..."})}):o.jsx(Pa,{data:a,theme:e})})]}),o.jsx("div",{className:"col-span-12 lg:col-span-6 h-[450px] animate-enter stagger-9",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:o.jsx(Fa,{data:f,theme:e,loading:g,error:k,selectedChannel:ee,onChannelChange:se})})}),o.jsx("div",{className:"col-span-12 h-[450px] animate-enter stagger-10",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:o.jsx($a,{theme:e,selectedDistanceBand:F,storeName:W||void 0,selectedDate:y,selectedDateRange:x?{start:x.start,end:x.end}:void 0})})}),o.jsxs("div",{ref:$,className:`col-span-12 h-[800px] animate-enter stagger-1 ${de("profit")}`,children:[n==="profit"&&o.jsx(Be,{onExit:()=>r(null)}),o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:800}),children:o.jsx(Ra,{data:t.channels,theme:e})})]}),o.jsx("div",{className:"col-span-12 h-[500px] animate-enter stagger-2",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:500}),children:o.jsx(Ha,{theme:e})})}),o.jsx("div",{className:"col-span-12 lg:col-span-6 h-[450px] animate-enter stagger-3",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:o.jsx(Aa,{data:De.channels,theme:e})})}),o.jsx("div",{className:"col-span-12 lg:col-span-6 h-[450px] animate-enter stagger-4",children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:450}),children:o.jsx(Ba,{data:De})})}),o.jsx("div",{className:`col-span-12 animate-enter stagger-5 ${n?"opacity-20 blur-sm pointer-events-none":"opacity-100"}`,children:o.jsx(u.Suspense,{fallback:o.jsx(ue,{height:400}),children:o.jsx(La,{data:De.channels})})})]}),n&&o.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 glass-panel text-white px-4 py-2 rounded-full shadow-2xl z-[100] animate-bounce",children:o.jsxs("p",{className:"text-xs font-mono font-bold tracking-widest flex items-center gap-2",children:[o.jsx(an,{size:12})," PRESS ESC TO EXIT"]})})]}):o.jsx(u.Suspense,{fallback:o.jsx(Za,{}),children:o.jsx(Ka,{})})}function Ja(){const[e,t]=u.useState("dark");return u.useEffect(()=>{e==="light"?document.body.classList.add("light-mode"):document.body.classList.remove("light-mode")},[e]),o.jsx(ga,{theme:e,onToggleTheme:()=>t(s=>s==="dark"?"light":"dark"),children:o.jsxs(Xn,{children:[o.jsx(Ce,{path:"/",element:o.jsx(Xa,{theme:e})}),o.jsx(Ce,{path:"/data",element:o.jsx(u.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:o.jsx("div",{className:"text-slate-400",children:"åŠ è½½ä¸­..."})}),children:o.jsx(Ga,{})})}),o.jsx(Ce,{path:"/stores",element:o.jsx(u.Suspense,{fallback:o.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:o.jsx("div",{className:"text-slate-400",children:"åŠ è½½ä¸­..."})}),children:o.jsx(qa,{theme:e})})}),o.jsx(Ce,{path:"/channels",element:o.jsx(lt,{title:"æ¸ é“åˆ†æž"})}),o.jsx(Ce,{path:"/trends",element:o.jsx(lt,{title:"è¶‹åŠ¿æ´žå¯Ÿ"})}),o.jsx(Ce,{path:"/settings",element:o.jsx(lt,{title:"ç³»ç»Ÿè®¾ç½®"})})]})})}const lt=({title:e})=>o.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:"ðŸš§"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e}),o.jsx("p",{className:"text-slate-400",children:"åŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…..."})]});class Qa extends b.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Uncaught error:",t,s)}render(){return this.state.hasError?o.jsxs("div",{style:{padding:"40px",color:"#f87171",backgroundColor:"#1e293b",height:"100vh",fontFamily:"monospace"},children:[o.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"âš ï¸ System Malfunction"}),o.jsx("p",{style:{color:"#cbd5e1"},children:"The dashboard encountered a critical error while rendering."}),o.jsx("pre",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#0f172a",borderRadius:"8px",overflow:"auto"},children:this.state.error?.message}),o.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reboot System"})]}):this.props.children}}const _n=document.getElementById("root");if(!_n)throw new Error("Could not find root element to mount to");const ei=ut.createRoot(_n);ei.render(o.jsx(b.StrictMode,{children:o.jsx(Jn,{children:o.jsx(or,{children:o.jsx(Qa,{children:o.jsx(Ja,{})})})})}));export{ka as C,ha as D,Ne as S,He as a,sr as b,_t as d,o as j,Me as o,Z as r,va as u,Yr as z};
