# ğŸš€ æ–°ç”µè„‘å®Œæ•´ç¯å¢ƒé…ç½®æŒ‡å—

> **é€‚ç”¨åœºæ™¯**: ä»GitHubå…‹éš†é¡¹ç›®åçš„å…¨æ–°ç”µè„‘ç¯å¢ƒé…ç½®  
> **é¢„è®¡æ—¶é—´**: 30-45åˆ†é’Ÿ  
> **å‰ç½®æ¡ä»¶**: âœ… Python 3.11+ å·²å®‰è£…, âœ… Git å·²å®‰è£…

---

## ğŸ“‹ é…ç½®æ­¥éª¤æ€»è§ˆ

```
ç¬¬ä¸€æ­¥: åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ (2åˆ†é’Ÿ)
ç¬¬äºŒæ­¥: å®‰è£…é¡¹ç›®ä¾èµ–åŒ… (5-10åˆ†é’Ÿ)
ç¬¬ä¸‰æ­¥: å®‰è£…PostgreSQLæ•°æ®åº“ (10åˆ†é’Ÿ)
ç¬¬å››æ­¥: å®‰è£…Redisç¼“å­˜ (5åˆ†é’Ÿ)
ç¬¬äº”æ­¥: é…ç½®ç¯å¢ƒå˜é‡ (3åˆ†é’Ÿ)
ç¬¬å…­æ­¥: åˆå§‹åŒ–æ•°æ®åº“ (5åˆ†é’Ÿ)
ç¬¬ä¸ƒæ­¥: éªŒè¯ç¯å¢ƒ (2åˆ†é’Ÿ)
ç¬¬å…«æ­¥: å¯åŠ¨ç³»ç»Ÿ (2åˆ†é’Ÿ)
```

---

## ç¬¬ä¸€æ­¥: åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ (2åˆ†é’Ÿ)

### 1.1 æ‰“å¼€PowerShellå¹¶è¿›å…¥é¡¹ç›®ç›®å½•

```powershell
cd "d:\Python\è®¢å•æ•°æ®çœ‹æ¿\O2O-Analysis"
```

### 1.2 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```powershell
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\.venv\Scripts\Activate.ps1
```

**é¢„æœŸç»“æœ**: å‘½ä»¤è¡Œå‰å‡ºç° `(.venv)` æ ‡è¯†

**âš ï¸ å¦‚é‡æ‰§è¡Œç­–ç•¥é”™è¯¯**:
```powershell
# ä¸´æ—¶å…è®¸è„šæœ¬æ‰§è¡Œ
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope Process

# å†æ¬¡æ¿€æ´»
.\.venv\Scripts\Activate.ps1
```

---

## ç¬¬äºŒæ­¥: å®‰è£…é¡¹ç›®ä¾èµ–åŒ… (5-10åˆ†é’Ÿ)

### 2.1 å‡çº§pip (æ¨è)

```powershell
python -m pip install --upgrade pip
```

### 2.2 å®‰è£…æ‰€æœ‰ä¾èµ–

```powershell
# æ–¹å¼1: ä½¿ç”¨å®‰è£…è„šæœ¬ (æ¨è)
.\å®‰è£…ä¾èµ–.ps1

# æ–¹å¼2: æ‰‹åŠ¨å®‰è£…
pip install -r requirements.txt
```

### 2.3 éªŒè¯æ ¸å¿ƒåŒ…

```powershell
python -c "import dash, pandas, plotly, sqlalchemy, redis; print('âœ… æ ¸å¿ƒä¾èµ–å®‰è£…æˆåŠŸ!')"
```

**é¢„æœŸè¾“å‡º**: `âœ… æ ¸å¿ƒä¾èµ–å®‰è£…æˆåŠŸ!`

---

## ç¬¬ä¸‰æ­¥: å®‰è£…PostgreSQLæ•°æ®åº“ (10åˆ†é’Ÿ)

### 3.1 ä¸‹è½½PostgreSQLå®‰è£…åŒ…

- è®¿é—®: https://www.postgresql.org/download/windows/
- é€‰æ‹©ç‰ˆæœ¬: **PostgreSQL 15.x** æˆ– **16.x** (æ¨è15.6)
- ä¸‹è½½: `postgresql-15.x-windows-x64.exe`

### 3.2 å®‰è£…PostgreSQL

**å®‰è£…é…ç½®**:
```
å®‰è£…è·¯å¾„: C:\Program Files\PostgreSQL\15 (é»˜è®¤)
ç«¯å£: 5432 (é»˜è®¤)
è¶…çº§ç”¨æˆ·: postgres
å¯†ç : âš ï¸ è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç å¹¶è®°ä½! (å»ºè®®: Postgres@2025)
è¯­è¨€: Chinese, China
ç»„ä»¶: å…¨éƒ¨å‹¾é€‰(PostgreSQL Server, pgAdmin 4, Stack Builder, Command Line Tools)
```

### 3.3 éªŒè¯å®‰è£…

```powershell
# æ£€æŸ¥PostgreSQLæœåŠ¡
Get-Service -Name "postgresql*"

# æµ‹è¯•è¿æ¥ (è¾“å…¥æ‚¨è®¾ç½®çš„å¯†ç )
psql -U postgres
# æˆåŠŸåè¾“å…¥ \q é€€å‡º
```

### 3.4 æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ (å¯é€‰ä½†æ¨è)

```powershell
# æ·»åŠ PostgreSQL binç›®å½•åˆ°PATH
$env:Path += ";C:\Program Files\PostgreSQL\15\bin"
```

---

## ç¬¬å››æ­¥: å®‰è£…Redisç¼“å­˜ (5åˆ†é’Ÿ)

### æ–¹å¼1: ä½¿ç”¨è‡ªåŠ¨å®‰è£…è„šæœ¬ (æ¨è)

```powershell
# è¿è¡ŒRediså®‰è£…è„šæœ¬
.\å¯åŠ¨Redis.ps1
# è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…Memurai (Windowsç‰ˆRedis)
```

### æ–¹å¼2: æ‰‹åŠ¨å®‰è£…Memurai

**4.1 ä¸‹è½½Memurai**
- è®¿é—®: https://www.memurai.com/get-memurai
- ä¸‹è½½: Memurai Developer Edition (å…è´¹)
- å®‰è£…è·¯å¾„: é»˜è®¤å³å¯

**4.2 å¯åŠ¨MemuraiæœåŠ¡**
```powershell
# å¯åŠ¨æœåŠ¡
Start-Service Memurai

# éªŒè¯æœåŠ¡çŠ¶æ€
Get-Service Memurai
```

**4.3 æµ‹è¯•è¿æ¥**
```powershell
python æµ‹è¯•Redisè¿æ¥.py
```

**é¢„æœŸè¾“å‡º**: `âœ… Redisè¿æ¥æˆåŠŸ!`

### æ–¹å¼3: ä½¿ç”¨WSLå®‰è£…åŸç”ŸRedis (é«˜çº§ç”¨æˆ·)

```powershell
# å¦‚æœå·²å®‰è£…WSL
.\å®‰è£…Redis_WSL.ps1
```

---

## ç¬¬äº”æ­¥: é…ç½®ç¯å¢ƒå˜é‡ (3åˆ†é’Ÿ)

### 5.1 å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿

```powershell
# å¤åˆ¶æ¨¡æ¿æ–‡ä»¶
Copy-Item .env.example .env
```

### 5.2 ç¼–è¾‘ .env æ–‡ä»¶

```powershell
# ä½¿ç”¨è®°äº‹æœ¬ç¼–è¾‘
notepad .env
```

**å¿…é¡»é…ç½®çš„å˜é‡**:

```env
# æ•°æ®åº“é…ç½® (âš ï¸ ä¿®æ”¹å¯†ç ä¸ºæ‚¨è®¾ç½®çš„å¯†ç )
DATABASE_URL=postgresql://postgres:Postgres@2025@localhost:5432/o2o_dashboard

# Redisé…ç½® (é»˜è®¤å€¼é€šå¸¸ä¸éœ€è¦æ”¹)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# AIæ¥å£é…ç½® (å¯é€‰,åç»­é…ç½®)
# ZHIPU_API_KEY=your_glm_api_key_here
# GEMINI_API_KEY=your_gemini_api_key_here
```

**ä¿å­˜å¹¶å…³é—­æ–‡ä»¶**

---

## ç¬¬å…­æ­¥: åˆå§‹åŒ–æ•°æ®åº“ (5åˆ†é’Ÿ)

### 6.1 åˆ›å»ºæ•°æ®åº“

```powershell
# æ–¹å¼1: ä½¿ç”¨å‘½ä»¤è¡Œ
psql -U postgres -c "CREATE DATABASE o2o_dashboard;"

# æ–¹å¼2: ä½¿ç”¨pgAdmin
# æ‰“å¼€pgAdmin â†’ å³é”®Databases â†’ Create â†’ Database
# åç§°: o2o_dashboard
# Owner: postgres
```

### 6.2 åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„

```powershell
# è¿è¡Œè¿ç§»è„šæœ¬
python database\migrate.py
```

**é¢„æœŸè¾“å‡º**:
```
âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ
âœ… åˆ›å»ºè¡¨: orders
âœ… åˆ›å»ºè¡¨: products
âœ… åˆ›å»ºè¡¨: scene_tags
âœ… åˆ›å»ºè¡¨: analysis_cache
âœ… æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ!
```

### 6.3 å¯¼å…¥ç¤ºä¾‹æ•°æ® (å¯é€‰)

```powershell
# å¦‚æœæœ‰å¤‡ä»½çš„æ•°æ®æ–‡ä»¶
python æ™ºèƒ½å¯¼å…¥é—¨åº—æ•°æ®.py

# æˆ–ä½¿ç”¨SQLå¯¼å…¥
psql -U postgres -d o2o_dashboard -f backup_data.sql
```

---

## ç¬¬ä¸ƒæ­¥: éªŒè¯ç¯å¢ƒ (2åˆ†é’Ÿ)

### 7.1 è¿è¡Œç»¼åˆæ£€æŸ¥è„šæœ¬

```powershell
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
python -c "
import sys
import psycopg2
import redis

# æ£€æŸ¥æ•°æ®åº“
try:
    conn = psycopg2.connect('postgresql://postgres:Postgres@2025@localhost:5432/o2o_dashboard')
    conn.close()
    print('âœ… PostgreSQLæ•°æ®åº“è¿æ¥æˆåŠŸ')
except Exception as e:
    print(f'âŒ PostgreSQLè¿æ¥å¤±è´¥: {e}')
    sys.exit(1)

# æ£€æŸ¥Redis
try:
    r = redis.Redis(host='localhost', port=6379, db=0)
    r.ping()
    print('âœ… Redisç¼“å­˜è¿æ¥æˆåŠŸ')
except Exception as e:
    print(f'âŒ Redisè¿æ¥å¤±è´¥: {e}')
    sys.exit(1)

print('ğŸ‰ æ‰€æœ‰ç¯å¢ƒæ£€æŸ¥é€šè¿‡!')
"
```

### 7.2 æ£€æŸ¥æ•°æ®åº“è¡¨

```powershell
python æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€.py
```

**é¢„æœŸè¾“å‡º**:
```
ğŸ“Š æ•°æ®åº“çŠ¶æ€æ£€æŸ¥
==================
âœ… orders è¡¨: å­˜åœ¨ (0 æ¡è®°å½•)
âœ… products è¡¨: å­˜åœ¨ (0 æ¡è®°å½•)
âœ… scene_tags è¡¨: å­˜åœ¨ (0 æ¡è®°å½•)
```

---

## ç¬¬å…«æ­¥: å¯åŠ¨ç³»ç»Ÿ (2åˆ†é’Ÿ)

### 8.1 å¯åŠ¨åå°æœåŠ¡

```powershell
# ç¡®ä¿PostgreSQLæœåŠ¡è¿è¡Œä¸­
Get-Service -Name "postgresql*" | Start-Service

# ç¡®ä¿RedisæœåŠ¡è¿è¡Œä¸­
Start-Service Memurai
```

### 8.2 å¯åŠ¨çœ‹æ¿

```powershell
# æ–¹å¼1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)
.\å¯åŠ¨çœ‹æ¿.ps1

# æ–¹å¼2: ç›´æ¥è¿è¡Œ
python æ™ºèƒ½é—¨åº—çœ‹æ¿_Dashç‰ˆ.py
```

### 8.3 è®¿é—®çœ‹æ¿

æµè§ˆå™¨æ‰“å¼€: **http://localhost:8050**

**é¦–æ¬¡è®¿é—®**: ä¼šçœ‹åˆ°æ•°æ®ä¸Šä¼ ç•Œé¢,ä¸Šä¼ Excelè®¢å•æ–‡ä»¶å³å¯å¼€å§‹ä½¿ç”¨

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### Q1: PostgreSQLè¿æ¥å¤±è´¥

**é”™è¯¯**: `FATAL: password authentication failed for user "postgres"`

**è§£å†³**:
```powershell
# 1. æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®
# 2. ä¿®æ”¹ pg_hba.conf (å¦‚æœéœ€è¦)
notepad "C:\Program Files\PostgreSQL\15\data\pg_hba.conf"
# å°† md5 æ”¹ä¸º trust (ä»…æœ¬åœ°å¼€å‘)
# é‡å¯PostgreSQLæœåŠ¡
Restart-Service postgresql*
```

### Q2: Redisè¿æ¥å¤±è´¥

**é”™è¯¯**: `ConnectionRefusedError: [Errno 10061]`

**è§£å†³**:
```powershell
# æ£€æŸ¥MemuraiæœåŠ¡çŠ¶æ€
Get-Service Memurai

# æ‰‹åŠ¨å¯åŠ¨
Start-Service Memurai

# å¦‚æœæœåŠ¡ä¸å­˜åœ¨,é‡æ–°å®‰è£…Memurai
```

### Q3: è™šæ‹Ÿç¯å¢ƒæ¿€æ´»å¤±è´¥

**é”™è¯¯**: `æ— æ³•åŠ è½½æ–‡ä»¶ *.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬`

**è§£å†³**:
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell
Set-ExecutionPolicy RemoteSigned -Scope CurrentUser

# ç„¶åé‡æ–°æ¿€æ´»
.\.venv\Scripts\Activate.ps1
```

### Q4: ä¾èµ–å®‰è£…å¤±è´¥

**é”™è¯¯**: `error: Microsoft Visual C++ 14.0 or greater is required`

**è§£å†³**:
```powershell
# ä¸‹è½½å®‰è£… Visual C++ Build Tools
# è®¿é—®: https://visualstudio.microsoft.com/visual-cpp-build-tools/
# æˆ–å®‰è£…é¢„ç¼–è¯‘ç‰ˆæœ¬
pip install --only-binary :all: psycopg2-binary
```

### Q5: ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `OSError: [Errno 10048] error while attempting to bind on address`

**è§£å†³**:
```powershell
# æŸ¥æ‰¾å ç”¨8050ç«¯å£çš„è¿›ç¨‹
Get-NetTCPConnection -LocalPort 8050 | Select-Object OwningProcess
taskkill /PID <è¿›ç¨‹ID> /F

# æˆ–ä¿®æ”¹çœ‹æ¿ç«¯å£
# ç¼–è¾‘ æ™ºèƒ½é—¨åº—çœ‹æ¿_Dashç‰ˆ.pyï¼Œä¿®æ”¹æœ€åä¸€è¡Œ:
# app.run_server(debug=True, port=8051)
```

---

## ğŸ“š ä¸‹ä¸€æ­¥æ“ä½œ

### 1. é…ç½®AIåŠŸèƒ½ (å¯é€‰)

å‚è€ƒ: `GLM-4.6æ¥å…¥æŒ‡å—.md` æˆ– `API_KEY_é…ç½®æŒ‡å—.md`

```powershell
# ç¼–è¾‘ .env æ–‡ä»¶
notepad .env

# æ·»åŠ APIå¯†é’¥
ZHIPU_API_KEY=your_api_key_here
```

### 2. å¯¼å…¥å†å²æ•°æ®

```powershell
# å‡†å¤‡Excelè®¢å•æ–‡ä»¶
# è¿è¡Œå¯¼å…¥å·¥å…·
python æ™ºèƒ½å¯¼å…¥é—¨åº—æ•°æ®.py
```

### 3. å±€åŸŸç½‘è®¿é—®é…ç½®

å‚è€ƒ: `å±€åŸŸç½‘å¤šäººè®¿é—®æŒ‡å—.md`

```powershell
# é…ç½®é˜²ç«å¢™
.\é…ç½®é˜²ç«å¢™.ps1

# ä¿®æ”¹å¯åŠ¨é…ç½®ä¸º 0.0.0.0
# app.run_server(debug=False, host='0.0.0.0', port=8050)
```

### 4. æ•°æ®å¤‡ä»½è®¾ç½®

```powershell
# å®šæœŸå¤‡ä»½æ•°æ®åº“
.\ä¸€é”®å¯¼å‡ºæ•°æ®åº“.bat

# å¤‡ä»½æ–‡ä»¶ä½ç½®: verify_check\æ•°æ®åº“å¯¼å‡º\
```

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

é…ç½®å®Œæˆå,ç¡®è®¤ä»¥ä¸‹é¡¹ç›®:

- [ ] Pythonè™šæ‹Ÿç¯å¢ƒå·²åˆ›å»ºå¹¶æ¿€æ´»
- [ ] æ‰€æœ‰ä¾èµ–åŒ…å®‰è£…æˆåŠŸ (`pip list` æŸ¥çœ‹)
- [ ] PostgreSQLæ•°æ®åº“å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] Redis/Memuraiç¼“å­˜å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] .env ç¯å¢ƒå˜é‡æ–‡ä»¶å·²é…ç½®
- [ ] æ•°æ®åº“ o2o_dashboard å·²åˆ›å»º
- [ ] æ•°æ®åº“è¡¨ç»“æ„å·²åˆå§‹åŒ–
- [ ] ç¯å¢ƒéªŒè¯è„šæœ¬å…¨éƒ¨é€šè¿‡
- [ ] çœ‹æ¿èƒ½æˆåŠŸå¯åŠ¨å¹¶è®¿é—® http://localhost:8050
- [ ] å¯ä»¥æˆåŠŸä¸Šä¼ Excelæ–‡ä»¶å¹¶æŸ¥çœ‹æ•°æ®

---

## ğŸ¯ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```powershell
# æ¯æ¬¡å¼€å‘å‰æ‰§è¡Œ
cd "d:\Python\è®¢å•æ•°æ®çœ‹æ¿\O2O-Analysis"
.\.venv\Scripts\Activate.ps1
.\å¯åŠ¨æ•°æ®åº“.ps1
.\å¯åŠ¨Redis.ps1
.\å¯åŠ¨çœ‹æ¿.ps1

# åœæ­¢æœåŠ¡
.\åœæ­¢çœ‹æ¿.bat
Stop-Service Memurai

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
Get-Service postgresql*
Get-Service Memurai
```

---

## ğŸ“ è·å–å¸®åŠ©

- **ä¸šåŠ¡é€»è¾‘**: å‚è€ƒ `ã€æƒå¨ã€‘ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®å­—å…¸å®Œæ•´æ‰‹å†Œ.md`
- **å¿«é€Ÿä¸Šæ‰‹**: å‚è€ƒ `å¿«é€Ÿå¼€å§‹æŒ‡å—.md`
- **PostgreSQLé…ç½®**: å‚è€ƒ `PostgreSQLç¯å¢ƒé…ç½®å®Œæ•´æŒ‡å—.md`
- **Redisé…ç½®**: å‚è€ƒ `Rediså®‰è£…é…ç½®æŒ‡å—.md`
- **AIå¼€å‘**: å‚è€ƒ `.github\copilot-instructions.md`

**é‡åˆ°é—®é¢˜**: æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„å„ç±»æŒ‡å—æ–‡æ¡£,æˆ–åœ¨GitHubæIssue
