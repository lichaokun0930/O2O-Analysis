# 六象限判定逻辑评估报告 V7.2

## 📊 当前六象限体系概览

### 判定优先级（从高到低）

1. **🎯 策略引流** - 极端价格引流品
2. **🌟 明星商品** - 高利润+高动销+高单品价值
3. **🔥 畅销商品** - 低价+高销+正利润
4. **💎 潜力商品** - 高利润+低动销
5. **⚡ 自然引流** - 低利润+高动销
6. **🐌 低效商品** - 低利润+低动销

---

## 🔍 各象限详细评估

### 1. 🎯 策略引流（已优化 ✅）

**当前判定标准**：
```
条件1：秒杀/满赠 = 实售价≤0.01元 + 销量≥中位数（动态）
条件2：亏损引流 = 利润率<-50% + 销量≥中位数（动态）
条件3：低价引流 = 实售价≤2元 且 <成本×0.5 + 销量≥中位数（动态）
条件4：赠品 = 实售价=0 + 有销量（无门槛）
```

**阈值类型**：
- ✅ **动态阈值**：销量门槛使用50分位数（中位数）
- ✅ **固定阈值**：价格阈值（0.01元、2元）、利润率阈值（-50%）

**评估结论**：✅ **已优化，无需调整**
- 动态销量门槛能自适应门店规模
- 固定价格/利润率阈值符合业务逻辑（极端引流的定义）
- 保底3件避免测试活动被误判

---

### 2. 🌟 明星商品（已优化 ✅）

**当前判定标准**：
```
条件1：高利润率 = 利润率 > 品类中位数（动态）
条件2：高动销 = 动销指数>全店中位数 + 销量≥70分位数 + 订单≥70分位数（动态）
条件3：高单品价值 = 单品利润≥0.5元 OR 总利润≥50元（动态+保底）
```

**阈值类型**：
- ✅ **动态阈值**：利润率（品类中位数）、销量/订单（70分位数）、单品价值（30分位数）
- ✅ **保底阈值**：销量≥5件、订单≥2单、单品利润≥0.5元、总利润≥50元

**评估结论**：✅ **已优化，无需调整**
- 多维度判定（利润+动销+价值）避免低价品误判
- 动态阈值自适应门店规模
- 保底阈值防止门槛过低

---

### 3. 🔥 畅销商品（需要评估 ⚠️）

**当前判定标准**：
```
条件1：低价 = 实售价 < 全店价格中位数（动态）
条件2：高销 = 销量 ≥ 70分位数（动态）
条件3：正利润 = 利润率 ≥ 品类中位数（动态）
```

**阈值类型**：
- ✅ **动态阈值**：价格中位数、销量70分位数、利润率品类中位数

**潜在问题分析**：

#### 问题1：价格阈值可能过高
- **现状**：使用全店价格中位数作为"低价"标准
- **问题**：如果门店主要销售高价商品，中位数可能很高（如20元），导致10元的刚需品被排除
- **建议**：考虑使用**30分位数**或**固定阈值**（如15元）

#### 问题2：与明星商品可能重叠
- **现状**：畅销商品要求"利润率≥品类中位数"，这与明星商品的利润率要求相同
- **问题**：一个低价高销的商品，如果利润率也高，可能同时满足明星和畅销的条件
- **当前保护**：优先级保护（明星>畅销），但可能导致畅销商品数量偏少

#### 问题3：销量门槛与明星商品相同
- **现状**：都使用70分位数
- **问题**：畅销商品的定义是"刚需基础品"，应该销量更高才对
- **建议**：考虑使用**80分位数**或**更高门槛**

**优化建议**：

**方案A：降低价格阈值，提高销量门槛**
```python
# 价格阈值：使用30分位数（更宽松）
BESTSELLER_PRICE_THRESHOLD = product_data['商品实售价'].quantile(0.3)

# 销量阈值：使用80分位数（更严格）
BESTSELLER_SALES_THRESHOLD = product_data['销量'].quantile(0.8)

# 利润率：保持品类中位数
positive_profit = profit_rate >= profit_threshold
```

**方案B：使用固定价格阈值**
```python
# 价格阈值：固定15元（业务经验值）
BESTSELLER_PRICE_THRESHOLD = 15.0

# 销量阈值：使用80分位数
BESTSELLER_SALES_THRESHOLD = product_data['销量'].quantile(0.8)

# 利润率：保持品类中位数
positive_profit = profit_rate >= profit_threshold
```

**方案C：降低利润率要求**
```python
# 价格阈值：使用30分位数
BESTSELLER_PRICE_THRESHOLD = product_data['商品实售价'].quantile(0.3)

# 销量阈值：使用80分位数
BESTSELLER_SALES_THRESHOLD = product_data['销量'].quantile(0.8)

# 利润率：降低到品类30分位数（更宽松）
positive_profit = profit_rate >= product_data.groupby(category_field)['综合利润率'].transform(lambda x: x.quantile(0.3))
```

---

### 4. 💎 潜力商品（需要评估 ⚠️）

**当前判定标准**：
```
条件1：高利润率 = 利润率 > 品类中位数（动态）
条件2：低动销 = NOT(动销指数>中位数 + 销量≥70分位数 + 订单≥70分位数)
```

**阈值类型**：
- ✅ **动态阈值**：利润率品类中位数、动销指数中位数、销量/订单70分位数

**潜在问题分析**：

#### 问题1：低动销定义过于宽泛
- **现状**：只要不满足"高动销"的三个条件之一，就算"低动销"
- **问题**：可能包含销量接近70分位数的商品（如68分位数），这些商品其实销量不算低
- **建议**：明确"低动销"的上限

#### 问题2：没有区分"新品"和"老品"
- **现状**：新上架的商品（如上架3天）和老商品（上架90天）使用相同标准
- **问题**：新品销量低是正常的，不应该和老品混为一谈
- **建议**：考虑增加"上架天数"维度

**优化建议**：

**方案A：明确低动销上限**
```python
# 低动销定义：销量 < 50分位数（中位数）
low_sales = sales_qty < product_data['销量'].quantile(0.5)

# 高利润保持不变
high_profit = profit_rate > profit_threshold

if high_profit and low_sales:
    return '💎 潜力商品'
```

**方案B：增加新品保护**
```python
# 如果有上架天数字段
if '上架天数' in row:
    days_online = row['上架天数']
    
    # 新品（上架<7天）：销量门槛降低到30分位数
    if days_online < 7:
        low_sales = sales_qty < product_data['销量'].quantile(0.3)
    # 老品（上架≥7天）：销量门槛50分位数
    else:
        low_sales = sales_qty < product_data['销量'].quantile(0.5)
else:
    # 没有上架天数字段，使用默认逻辑
    low_sales = not high_sales
```

**方案C：增加价值门槛**
```python
# 潜力商品应该有一定的利润潜力
high_profit = profit_rate > profit_threshold
low_sales = sales_qty < product_data['销量'].quantile(0.5)

# 新增：单品利润额≥0.3元（避免低价低利润品被误判）
has_potential = unit_profit >= 0.3

if high_profit and low_sales and has_potential:
    return '💎 潜力商品'
```

---

### 5. ⚡ 自然引流（需要评估 ⚠️）

**当前判定标准**：
```
条件1：低利润率 = 利润率 ≤ 品类中位数（动态）
条件2：高动销 = 动销指数>中位数 + 销量≥70分位数 + 订单≥70分位数（动态）
```

**阈值类型**：
- ✅ **动态阈值**：利润率品类中位数、动销指数中位数、销量/订单70分位数

**潜在问题分析**：

#### 问题1：与策略引流的边界模糊
- **现状**：策略引流要求"极端低价/亏损"，自然引流要求"低利润+高销"
- **问题**：一个利润率10%的高销商品，算自然引流；一个利润率-10%的高销商品，如果销量不够中位数，也算自然引流
- **建议**：明确利润率下限

#### 问题2：没有区分"主动引流"和"被动引流"
- **现状**：所有低利润高销的商品都算自然引流
- **问题**：有些商品可能是主动降价引流（如促销），有些是成本高导致利润低
- **建议**：考虑增加"营销成本占比"维度

**优化建议**：

**方案A：明确利润率下限**
```python
# 自然引流：利润率在0-品类中位数之间（正利润但不高）
low_profit = (profit_rate > 0) and (profit_rate <= profit_threshold)
high_sales = is_high_sales(sales_index, sales_qty, order_count)

if low_profit and high_sales:
    return '⚡ 自然引流'
```

**方案B：区分主动和被动引流**
```python
# 如果有营销成本占比字段
if '营销占比' in row:
    marketing_ratio = row['营销占比']
    
    # 主动引流：营销占比>20%（主动投入营销）
    if marketing_ratio > 20:
        return '🎯 策略引流'  # 归类到策略引流
    # 被动引流：营销占比≤20%（自然流量）
    else:
        return '⚡ 自然引流'
```

**方案C：增加价格维度**
```python
# 自然引流：低利润+高销+价格适中
low_profit = (profit_rate > 0) and (profit_rate <= profit_threshold)
high_sales = is_high_sales(sales_index, sales_qty, order_count)

# 价格适中：在30-70分位数之间（不是极端低价）
moderate_price = (price >= product_data['商品实售价'].quantile(0.3)) and \
                 (price <= product_data['商品实售价'].quantile(0.7))

if low_profit and high_sales and moderate_price:
    return '⚡ 自然引流'
```

---

### 6. 🐌 低效商品（需要评估 ⚠️）

**当前判定标准**：
```
条件1：低利润率 = 利润率 ≤ 品类中位数（动态）
条件2：低动销 = NOT(动销指数>中位数 + 销量≥70分位数 + 订单≥70分位数)
```

**阈值类型**：
- ✅ **动态阈值**：利润率品类中位数、动销指数中位数、销量/订单70分位数

**潜在问题分析**：

#### 问题1：低动销定义过于宽泛
- **现状**：只要不满足"高动销"，就算"低动销"
- **问题**：可能包含销量接近70分位数的商品（如65分位数），这些商品其实不算"低效"
- **建议**：明确"低动销"的上限

#### 问题2：没有区分"待淘汰"和"待优化"
- **现状**：所有低利润低销的商品都算低效
- **问题**：有些商品可能只是需要调整价格/促销，有些商品确实应该淘汰
- **建议**：增加严重程度分级

**优化建议**：

**方案A：明确低动销上限**
```python
# 低动销定义：销量 < 30分位数（更严格）
very_low_sales = sales_qty < product_data['销量'].quantile(0.3)

# 低利润保持不变
low_profit = profit_rate <= profit_threshold

if low_profit and very_low_sales:
    return '🐌 低效商品'
```

**方案B：增加严重程度分级**
```python
# 低效商品分级
low_profit = profit_rate <= profit_threshold
low_sales = not high_sales

if low_profit and low_sales:
    # 极低效：销量<10分位数 + 利润率<0
    if sales_qty < product_data['销量'].quantile(0.1) and profit_rate < 0:
        return '🐌 低效商品（待淘汰）'
    # 一般低效：其他情况
    else:
        return '🐌 低效商品（待优化）'
```

**方案C：增加库存维度**
```python
# 如果有库存字段
if '库存' in row:
    stock = row['库存']
    
    # 低效+高库存：优先处理
    if stock > product_data['库存'].quantile(0.7):
        return '🐌 低效商品（高库存）'
    # 低效+低库存：可以观察
    else:
        return '🐌 低效商品'
```

---

## 📊 优化优先级建议

### 🔴 高优先级（建议优化）

1. **🔥 畅销商品**
   - **问题**：价格阈值可能过高，销量门槛与明星商品相同
   - **建议**：降低价格阈值（30分位数或固定15元），提高销量门槛（80分位数）
   - **影响**：更准确识别刚需基础品，避免与明星商品重叠

2. **💎 潜力商品**
   - **问题**：低动销定义过于宽泛，没有区分新品和老品
   - **建议**：明确低动销上限（50分位数），增加价值门槛（单品利润≥0.3元）
   - **影响**：更精准识别有潜力的商品，避免低价低利润品被误判

### 🟡 中优先级（可选优化）

3. **⚡ 自然引流**
   - **问题**：与策略引流边界模糊，没有区分主动和被动引流
   - **建议**：明确利润率下限（>0），增加价格维度（30-70分位数）
   - **影响**：更清晰区分自然引流和策略引流

4. **🐌 低效商品**
   - **问题**：低动销定义过于宽泛，没有区分严重程度
   - **建议**：明确低动销上限（30分位数），增加严重程度分级
   - **影响**：更精准识别需要淘汰的商品

### 🟢 低优先级（暂不优化）

5. **🎯 策略引流** - ✅ 已优化，无需调整
6. **🌟 明星商品** - ✅ 已优化，无需调整

---

## 🎯 推荐优化方案（综合版）

### 方案1：保守优化（推荐）

**只优化畅销商品和潜力商品，其他保持不变**

```python
# 🔥 畅销商品优化
BESTSELLER_PRICE_THRESHOLD = product_data['商品实售价'].quantile(0.3)  # 降低价格阈值
BESTSELLER_SALES_THRESHOLD = product_data['销量'].quantile(0.8)  # 提高销量门槛

# 💎 潜力商品优化
def is_potential_product(row):
    high_profit = row['综合利润率'] > row['品类利润率阈值']
    low_sales = row['销量'] < product_data['销量'].quantile(0.5)  # 明确低动销上限
    has_potential = row['单品利润额'] >= 0.3  # 增加价值门槛
    return high_profit and low_sales and has_potential
```

**优点**：
- 改动最小，风险最低
- 解决最明显的问题
- 不影响其他象限

**缺点**：
- 自然引流和低效商品的问题未解决

---

### 方案2：全面优化

**优化所有四个象限**

```python
# 🔥 畅销商品
BESTSELLER_PRICE_THRESHOLD = product_data['商品实售价'].quantile(0.3)
BESTSELLER_SALES_THRESHOLD = product_data['销量'].quantile(0.8)

# 💎 潜力商品
def is_potential_product(row):
    high_profit = row['综合利润率'] > row['品类利润率阈值']
    low_sales = row['销量'] < product_data['销量'].quantile(0.5)
    has_potential = row['单品利润额'] >= 0.3
    return high_profit and low_sales and has_potential

# ⚡ 自然引流
def is_natural_traffic(row):
    low_profit = (row['综合利润率'] > 0) and (row['综合利润率'] <= row['品类利润率阈值'])
    high_sales = is_high_sales(row['动销指数'], row['销量'], row['订单数'])
    moderate_price = (row['商品实售价'] >= product_data['商品实售价'].quantile(0.3)) and \
                     (row['商品实售价'] <= product_data['商品实售价'].quantile(0.7))
    return low_profit and high_sales and moderate_price

# 🐌 低效商品
def is_low_efficiency(row):
    low_profit = row['综合利润率'] <= row['品类利润率阈值']
    very_low_sales = row['销量'] < product_data['销量'].quantile(0.3)
    return low_profit and very_low_sales
```

**优点**：
- 全面解决所有问题
- 六象限边界更清晰
- 分类更精准

**缺点**：
- 改动较大，需要充分测试
- 可能影响现有业务逻辑

---

## 💡 讨论要点

### 1. 畅销商品的价格阈值

**问题**：使用中位数还是30分位数？还是固定值？

**选项**：
- A. 中位数（当前）- 可能过高
- B. 30分位数 - 更宽松，识别更多刚需品
- C. 固定15元 - 基于业务经验，但不自适应

**你的意见**：？

### 2. 潜力商品的价值门槛

**问题**：是否需要增加单品利润额门槛？

**选项**：
- A. 不增加（当前）- 可能包含低价低利润品
- B. 增加0.3元门槛 - 过滤低价品
- C. 增加0.5元门槛 - 更严格

**你的意见**：？

### 3. 自然引流的利润率下限

**问题**：是否要求正利润？

**选项**：
- A. 不要求（当前）- 可能包含亏损品
- B. 要求>0 - 排除亏损品
- C. 要求>品类30分位数 - 更严格

**你的意见**：？

### 4. 低效商品的严重程度分级

**问题**：是否需要分级？

**选项**：
- A. 不分级（当前）- 简单但不够精细
- B. 分级（待淘汰/待优化）- 更精细但复杂
- C. 增加库存维度 - 结合库存压力

**你的意见**：？

---

## 📝 下一步行动

1. **讨论优化方案**：选择方案1（保守）还是方案2（全面）
2. **确定具体阈值**：讨论上述4个要点
3. **制定测试计划**：使用祥和路店数据测试优化效果
4. **对比分析**：优化前后的六象限分布对比

---

**评估完成时间**：2025-12-10
**评估版本**：V7.2
**评估人员**：Kiro AI Assistant
