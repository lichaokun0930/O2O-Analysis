# è°ƒè¯•æ¨¡å¼ä½¿ç”¨æŒ‡å—

## ğŸ¯ è°ƒè¯•æ¨¡å¼ç‰¹æ€§

è°ƒè¯•æ¨¡å¼æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼Œè®©å¼€å‘æ›´é«˜æ•ˆï¼š

### âœ… è‡ªåŠ¨çƒ­é‡è½½ï¼ˆHot Reloadï¼‰
- ä¿®æ”¹`.py`æ–‡ä»¶å¹¶ä¿å­˜åï¼ŒæœåŠ¡å™¨è‡ªåŠ¨é‡å¯
- æ— éœ€æ‰‹åŠ¨åœæ­¢å’Œé‡å¯çœ‹æ¿
- å¤§å¹…æå‡å¼€å‘æ•ˆç‡

### âœ… è¯¦ç»†æ—¥å¿—
- æ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯
- å®Œæ•´çš„å †æ ˆè·Ÿè¸ª
- ä¾¿äºå®šä½é—®é¢˜

### âœ… å®æ—¶é”™è¯¯æç¤º
- ä»£ç é”™è¯¯ç«‹å³æ˜¾ç¤ºåœ¨æ§åˆ¶å°
- æµè§ˆå™¨æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯é¡µé¢
- å¿«é€Ÿå®šä½é—®é¢˜ä»£ç 

---

## ğŸš€ å¯åŠ¨è°ƒè¯•æ¨¡å¼

### æ–¹å¼1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
```powershell
.\å¯åŠ¨çœ‹æ¿-è°ƒè¯•æ¨¡å¼.ps1
```

### æ–¹å¼2: æ‰‹åŠ¨å¯åŠ¨
```powershell
# è®¾ç½®ç¯å¢ƒå˜é‡
$env:DASH_DEBUG = "true"
$env:FLASK_ENV = "development"
$env:FLASK_DEBUG = "1"
$env:PYTHONDONTWRITEBYTECODE = "1"

# å¯åŠ¨çœ‹æ¿
python -u æ™ºèƒ½é—¨åº—çœ‹æ¿_Dashç‰ˆ.py
```

---

## ğŸ“ ä½¿ç”¨æµç¨‹

### æ­¥éª¤1: å¯åŠ¨è°ƒè¯•æ¨¡å¼
```powershell
.\å¯åŠ¨çœ‹æ¿-è°ƒè¯•æ¨¡å¼.ps1
```

**é¢„æœŸè¾“å‡º**:
```
ğŸ› å¯åŠ¨è°ƒè¯•æ¨¡å¼...
===========================================
ğŸ“ æœ¬æœºè®¿é—®: http://localhost:8051
ğŸŒ å±€åŸŸç½‘è®¿é—®: http://192.168.1.213:8051

ğŸ’¡ è°ƒè¯•æ¨¡å¼ç‰¹æ€§:
   âœ… è‡ªåŠ¨é‡è½½: ä¿®æ”¹.pyæ–‡ä»¶å¹¶ä¿å­˜åè‡ªåŠ¨é‡å¯
   âœ… è¯¦ç»†æ—¥å¿—: æ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯
   âœ… é”™è¯¯è¿½è¸ª: å®Œæ•´çš„å †æ ˆè·Ÿè¸ª
   âœ… çƒ­é‡è½½: æ— éœ€æ‰‹åŠ¨é‡å¯æœåŠ¡å™¨

ğŸ”§ [è°ƒè¯•æ¨¡å¼] å·²å¼€å¯: ä¿®æ”¹ä»£ç å¹¶ä¿å­˜åï¼Œçœ‹æ¿å°†è‡ªåŠ¨é‡å¯åº”ç”¨æ–°é€»è¾‘
 * Serving Flask app 'æ™ºèƒ½é—¨åº—çœ‹æ¿_Dashç‰ˆ'
 * Debug mode: on
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8051
 * Running on http://192.168.1.213:8051
```

### æ­¥éª¤2: ä¿®æ”¹ä»£ç 
1. åœ¨IDEä¸­æ‰“å¼€éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶
2. è¿›è¡Œä»£ç ä¿®æ”¹
3. ä¿å­˜æ–‡ä»¶ï¼ˆCtrl+Sï¼‰

### æ­¥éª¤3: ç­‰å¾…è‡ªåŠ¨é‡å¯
ä¿®æ”¹ä¿å­˜åï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºï¼š
```
 * Detected change in 'components/today_must_do/callbacks.py', reloading
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: xxx-xxx-xxx
```

### æ­¥éª¤4: åˆ·æ–°æµè§ˆå™¨
- æŒ‰`Ctrl+F5`å¼ºåˆ¶åˆ·æ–°ï¼ˆæ¸…é™¤ç¼“å­˜ï¼‰
- æˆ–æŒ‰`F5`æ™®é€šåˆ·æ–°
- æŸ¥çœ‹ä¿®æ”¹æ•ˆæœ

---

## ğŸ” çƒ­é‡è½½å·¥ä½œåŸç†

### ç›‘æ§æ–‡ä»¶å˜åŒ–
è°ƒè¯•æ¨¡å¼ä¼šç›‘æ§ä»¥ä¸‹æ–‡ä»¶çš„å˜åŒ–ï¼š
- æ‰€æœ‰`.py`æ–‡ä»¶
- ä¸»ç¨‹åºæ–‡ä»¶
- ç»„ä»¶æ–‡ä»¶
- å·¥å…·æ¨¡å—æ–‡ä»¶

### è‡ªåŠ¨é‡å¯æµç¨‹
1. **æ£€æµ‹å˜åŒ–**: Werkzeugç›‘æ§æ–‡ä»¶ç³»ç»Ÿ
2. **è§¦å‘é‡å¯**: æ£€æµ‹åˆ°æ–‡ä»¶ä¿®æ”¹
3. **é‡æ–°åŠ è½½**: é‡æ–°å¯¼å…¥æ‰€æœ‰æ¨¡å—
4. **åº”ç”¨æ›´æ”¹**: æ–°ä»£ç ç«‹å³ç”Ÿæ•ˆ

### ç¯å¢ƒå˜é‡é…ç½®
```powershell
DASH_DEBUG = "true"              # å¯ç”¨Dashè°ƒè¯•æ¨¡å¼
FLASK_ENV = "development"        # Flaskå¼€å‘ç¯å¢ƒ
FLASK_DEBUG = "1"                # Flaskè°ƒè¯•æ¨¡å¼
PYTHONDONTWRITEBYTECODE = "1"   # ç¦ç”¨.pycç¼“å­˜
```

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜1: ä¿®æ”¹ä»£ç åæ²¡æœ‰è‡ªåŠ¨é‡å¯

**å¯èƒ½åŸå› **:
1. æ–‡ä»¶æœªä¿å­˜
2. ä¿®æ”¹çš„æ˜¯éPythonæ–‡ä»¶ï¼ˆå¦‚.mdã€.txtï¼‰
3. ç¯å¢ƒå˜é‡æœªæ­£ç¡®è®¾ç½®

**è§£å†³æ–¹æ¡ˆ**:
```powershell
# 1. ç¡®è®¤æ–‡ä»¶å·²ä¿å­˜ï¼ˆCtrl+Sï¼‰
# 2. æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æ˜¾ç¤º "Detected change"
# 3. é‡æ–°å¯åŠ¨è°ƒè¯•æ¨¡å¼
.\å¯åŠ¨çœ‹æ¿-è°ƒè¯•æ¨¡å¼.ps1
```

### é—®é¢˜2: æ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯ä½†æµè§ˆå™¨æ­£å¸¸

**å¯èƒ½åŸå› **:
- æµè§ˆå™¨ç¼“å­˜äº†æ—§ç‰ˆæœ¬
- éœ€è¦å¼ºåˆ¶åˆ·æ–°

**è§£å†³æ–¹æ¡ˆ**:
```
æŒ‰ Ctrl+F5 å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨
æˆ–
æŒ‰ Ctrl+Shift+Rï¼ˆChrome/Firefoxï¼‰
```

### é—®é¢˜3: çƒ­é‡è½½å¤ªæ…¢

**å¯èƒ½åŸå› **:
- é¡¹ç›®æ–‡ä»¶å¤ªå¤š
- è™šæ‹Ÿç¯å¢ƒä¸­æœ‰å¤§é‡ä¾èµ–

**è§£å†³æ–¹æ¡ˆ**:
```powershell
# æ’é™¤ä¸éœ€è¦ç›‘æ§çš„ç›®å½•
# åœ¨ä¸»ç¨‹åºä¸­æ·»åŠ ï¼š
app.run(
    debug=True,
    use_reloader=True,
    extra_files=None,  # åªç›‘æ§ä¸»è¦æ–‡ä»¶
    exclude_patterns=['*.md', '*.txt', '*.log']
)
```

### é—®é¢˜4: ä¿®æ”¹åæŠ¥é”™"æ¨¡å—æœªæ‰¾åˆ°"

**å¯èƒ½åŸå› **:
- æ¨¡å—å¯¼å…¥è·¯å¾„é”™è¯¯
- å¾ªç¯å¯¼å…¥é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
```powershell
# 1. æ£€æŸ¥å¯¼å…¥è¯­å¥
# 2. é‡å¯è°ƒè¯•æ¨¡å¼
# 3. æ¸…ç†.pycæ–‡ä»¶
Get-ChildItem -Recurse -Filter "*.pyc" | Remove-Item -Force
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å°æ­¥å¿«è·‘
- æ¯æ¬¡åªä¿®æ”¹ä¸€å°éƒ¨åˆ†ä»£ç 
- ç«‹å³æµ‹è¯•éªŒè¯
- é¿å…å¤§é‡ä¿®æ”¹åæ‰æµ‹è¯•

### 2. è§‚å¯Ÿæ§åˆ¶å°
- å…³æ³¨"Detected change"æ¶ˆæ¯
- æŸ¥çœ‹é‡å¯æ˜¯å¦æˆåŠŸ
- æ³¨æ„é”™è¯¯ä¿¡æ¯

### 3. ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶
```powershell
# ä¿®æ”¹å‰å…ˆæäº¤
git add .
git commit -m "ä¿®æ”¹å‰çš„ç¨³å®šç‰ˆæœ¬"

# ä¿®æ”¹åæµ‹è¯•
# å¦‚æœæœ‰é—®é¢˜å¯ä»¥å¿«é€Ÿå›æ»š
git checkout .
```

### 4. åˆ†ç¦»è°ƒè¯•å’Œç”Ÿäº§
- è°ƒè¯•æ¨¡å¼ï¼šå¼€å‘å’Œæµ‹è¯•
- ç”Ÿäº§æ¨¡å¼ï¼šæ­£å¼ä½¿ç”¨
- ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨è°ƒè¯•æ¨¡å¼

---

## ğŸ¨ è°ƒè¯•æŠ€å·§

### æŠ€å·§1: ä½¿ç”¨printè°ƒè¯•
```python
# åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•è¾“å‡º
print(f"[DEBUG] å˜é‡å€¼: {variable}")
print(f"[DEBUG] æ•°æ®ç±»å‹: {type(data)}")
print(f"[DEBUG] æ•°æ®é•¿åº¦: {len(data)}")
```

### æŠ€å·§2: ä½¿ç”¨æ–­ç‚¹è°ƒè¯•
```python
# åœ¨éœ€è¦è°ƒè¯•çš„åœ°æ–¹æ·»åŠ 
import pdb; pdb.set_trace()

# æˆ–ä½¿ç”¨IPython
import IPython; IPython.embed()
```

### æŠ€å·§3: æŸ¥çœ‹å›è°ƒè§¦å‘
```python
# åœ¨å›è°ƒå‡½æ•°å¼€å¤´æ·»åŠ 
@app.callback(...)
def my_callback(...):
    print(f"[CALLBACK] {callback_context.triggered}")
    # ... å…¶ä»–ä»£ç 
```

### æŠ€å·§4: ç›‘æ§æ€§èƒ½
```python
import time

start = time.time()
# ... ä»£ç æ‰§è¡Œ
elapsed = time.time() - start
print(f"[PERF] è€—æ—¶: {elapsed:.2f}ç§’")
```

---

## ğŸ”„ è°ƒè¯•æ¨¡å¼ vs ç”Ÿäº§æ¨¡å¼

| ç‰¹æ€§ | è°ƒè¯•æ¨¡å¼ | ç”Ÿäº§æ¨¡å¼ |
|------|---------|---------|
| è‡ªåŠ¨é‡è½½ | âœ… æ˜¯ | âŒ å¦ |
| è¯¦ç»†æ—¥å¿— | âœ… æ˜¯ | âš ï¸ éƒ¨åˆ† |
| é”™è¯¯è¿½è¸ª | âœ… å®Œæ•´ | âš ï¸ ç®€åŒ– |
| æ€§èƒ½ | âš ï¸ è¾ƒæ…¢ | âœ… å¿«é€Ÿ |
| å¹¶å‘æ”¯æŒ | âš ï¸ æœ‰é™ | âœ… é«˜å¹¶å‘ |
| é€‚ç”¨åœºæ™¯ | å¼€å‘æµ‹è¯• | æ­£å¼ä½¿ç”¨ |

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### å¯åŠ¨æ—¶é—´
- è°ƒè¯•æ¨¡å¼: çº¦10-15ç§’
- ç”Ÿäº§æ¨¡å¼: çº¦8-10ç§’

### å†…å­˜å ç”¨
- è°ƒè¯•æ¨¡å¼: çº¦300-400MB
- ç”Ÿäº§æ¨¡å¼: çº¦200-300MB

### å“åº”é€Ÿåº¦
- è°ƒè¯•æ¨¡å¼: çº¦100-200ms
- ç”Ÿäº§æ¨¡å¼: çº¦50-100ms

---

## ğŸ¯ ä½•æ—¶ä½¿ç”¨è°ƒè¯•æ¨¡å¼

### âœ… åº”è¯¥ä½¿ç”¨
- å¼€å‘æ–°åŠŸèƒ½
- ä¿®å¤BUG
- æµ‹è¯•ä»£ç 
- å­¦ä¹ ä»£ç é€»è¾‘

### âŒ ä¸åº”è¯¥ä½¿ç”¨
- æ­£å¼ç”Ÿäº§ç¯å¢ƒ
- å¤šäººåŒæ—¶è®¿é—®
- æ€§èƒ½æµ‹è¯•
- å‹åŠ›æµ‹è¯•

---

## ğŸ“ è·å–å¸®åŠ©

### æŸ¥çœ‹æ—¥å¿—
```powershell
# æ§åˆ¶å°æ—¥å¿—
# ç›´æ¥åœ¨PowerShellçª—å£æŸ¥çœ‹

# ä¿å­˜æ—¥å¿—åˆ°æ–‡ä»¶
.\å¯åŠ¨çœ‹æ¿-è°ƒè¯•æ¨¡å¼.ps1 > debug.log 2>&1
```

### æ£€æŸ¥ç¯å¢ƒ
```powershell
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# æ£€æŸ¥ä¾èµ–
pip list

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :8051
```

---

**åˆ›å»ºæ—¶é—´**: 2025-12-11  
**ç‰ˆæœ¬**: V8.10.1  
**çŠ¶æ€**: å·²ä¼˜åŒ–
